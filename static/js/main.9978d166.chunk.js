(this.webpackJsonpmidft=this.webpackJsonpmidft||[]).push([[0],{309:function(e,a){},319:function(e,a,t){"use strict";t.r(a);var i=t(0),s=t.n(i),n=t(56),r=t.n(n),o=t(374),u=t(373),c=t(375),l=t(376),m=t(378),d=t(377),p=t(73),f=t(3);function b(){return Object(f.jsx)(u.a,{sx:{flexGrow:1},children:Object(f.jsx)(o.a,{position:"static",children:Object(f.jsxs)(c.a,{children:[Object(f.jsx)(l.a,{variant:"h3",component:"div",sx:{flexGrow:1},children:"Mi_DFT"}),Object(f.jsxs)(d.a,{variant:"outlined","aria-label":"outlined button group",children:[Object(f.jsx)(m.a,{component:p.b,to:"/",variant:"contained",color:"primary",children:"Home"}),Object(f.jsx)(m.a,{component:p.b,to:"/theory",variant:"contained",color:"primary",children:"Theory"}),Object(f.jsx)(m.a,{component:p.b,to:"/analysis",variant:"contained",color:"primary",children:"Analysis"})]})]})})})}var h=t(24),v=t(367);function j(){return Object(f.jsxs)("div",{children:[Object(f.jsx)("h1",{children:"Home - Theory and analysis"}),Object(f.jsx)("p",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Beatae, architecto temporibus laboriosam, atque veniam quod provident minus eos aspernatur ipsa ad nihil veritatis ea, eaque amet! Itaque cupiditate laudantium neque voluptas necessitatibus quidem perspiciatis molestias dolores possimus. Veritatis perferendis, quidem molestiae ipsa reprehenderit aperiam harum iste obcaecati doloribus, recusandae adipisci et saepe non qui illum ratione nemo amet voluptates dolore exercitationem provident. Ea sed incidunt cum eum excepturi vitae consequuntur eius quam earum? Repudiandae explicabo incidunt molestiae animi. Quibusdam veniam rerum minima error, quos voluptas incidunt. Est ex nesciunt ea id, dolor harum nemo quo quibusdam molestias dicta quae modi inventore. Sit dicta iure voluptatum modi. Recusandae harum blanditiis in dolore quasi officiis minus quos veritatis eveniet corporis eaque odio esse deserunt dolorum quod qui tempore, asperiores repellat numquam dolorem nobis! Provident soluta officiis temporibus optio, sapiente aspernatur accusantium ipsam velit necessitatibus natus placeat obcaecati consectetur quia. Reiciendis ipsum tempora non, dicta quod nesciunt. Magni, harum laudantium inventore omnis fugiat quia explicabo temporibus itaque officiis minus autem cumque! Necessitatibus dolorum aliquid omnis, sed ullam voluptatem reiciendis voluptate. Ad minima voluptatem praesentium totam eum consequuntur reiciendis quae soluta ipsam cupiditate? Officia labore modi illum libero error ad fugit sit nostrum, totam esse magnam doloremque repellendus. Similique, iure sed voluptatem quia molestiae aut incidunt facilis sequi! Veniam cupiditate optio magnam officiis cumque beatae laudantium, quas natus at aliquid nostrum, voluptatem aliquam quia doloremque, fugit fuga facere esse. Nostrum numquam nam, praesentium iusto accusamus quasi delectus rem vero laborum, optio blanditiis commodi id quidem beatae in. Laudantium fugit aspernatur impedit quam maiores officiis! Odit, est quae obcaecati repudiandae modi aliquid corporis natus dolores harum porro perferendis magni nam. Aperiam provident accusamus soluta optio eaque incidunt, quos modi nulla eligendi quo unde ipsa. Maxime distinctio minus beatae consequuntur assumenda ab vitae pariatur. Commodi maiores eius esse totam accusantium molestiae accusamus quas fugiat placeat quaerat voluptate corrupti architecto sapiente reiciendis obcaecati molestias, at tempore quisquam! Quam ratione aliquid quo illo delectus eaque quae reiciendis dicta corporis obcaecati, nesciunt veritatis molestiae impedit ut mollitia nam quisquam in aut quia nemo. Ducimus nulla assumenda numquam debitis recusandae dicta quam amet dolores, reprehenderit reiciendis ipsum sapiente sit alias obcaecati praesentium consequatur ipsa natus iste distinctio officia vel fugiat dolore delectus. Molestiae vero omnis blanditiis perspiciatis quibusdam, ipsam quo fugiat sunt pariatur minima aperiam ratione, unde distinctio porro incidunt praesentium repellendus aliquam autem dolores natus. Ab corporis earum veniam corrupti neque aperiam! Perferendis, eligendi, praesentium totam quia excepturi exercitationem dolores debitis cumque optio consectetur et suscipit cupiditate fuga nam commodi minima molestiae odit consequatur id enim aut quisquam eum. Modi dolores fuga neque praesentium repellendus, aspernatur ea quod? Corporis quaerat, nobis culpa quod nesciunt eum distinctio itaque cumque molestias impedit, deleniti delectus. Eum repellat architecto velit delectus eius praesentium, temporibus a nobis ad unde quaerat minus illum eos culpa earum possimus? Doloribus nostrum, impedit aut, officia amet at fuga velit minima tempora, harum molestiae non nisi quia maxime? Odio quo reiciendis nostrum repudiandae, alias delectus aut ullam quisquam. Eius?"})]})}function x(){return Object(f.jsxs)("div",{children:[Object(f.jsx)("h1",{children:"Theory page"}),Object(f.jsx)("p",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Beatae, architecto temporibus laboriosam, atque veniam quod provident minus eos aspernatur ipsa ad nihil veritatis ea, eaque amet! Itaque cupiditate laudantium neque voluptas necessitatibus quidem perspiciatis molestias dolores possimus. Veritatis perferendis, quidem molestiae ipsa reprehenderit aperiam harum iste obcaecati doloribus, recusandae adipisci et saepe non qui illum ratione nemo amet voluptates dolore exercitationem provident. Ea sed incidunt cum eum excepturi vitae consequuntur eius quam earum? Repudiandae explicabo incidunt molestiae animi. Quibusdam veniam rerum minima error, quos voluptas incidunt. Est ex nesciunt ea id, dolor harum nemo quo quibusdam molestias dicta quae modi inventore. Sit dicta iure voluptatum modi. Recusandae harum blanditiis in dolore quasi officiis minus quos veritatis eveniet corporis eaque odio esse deserunt dolorum quod qui tempore, asperiores repellat numquam dolorem nobis! Provident soluta officiis temporibus optio, sapiente aspernatur accusantium ipsam velit necessitatibus natus placeat obcaecati consectetur quia. Reiciendis ipsum tempora non, dicta quod nesciunt. Magni, harum laudantium inventore omnis fugiat quia explicabo temporibus itaque officiis minus autem cumque! Necessitatibus dolorum aliquid omnis, sed ullam voluptatem reiciendis voluptate. Ad minima voluptatem praesentium totam eum consequuntur reiciendis quae soluta ipsam cupiditate? Officia labore modi illum libero error ad fugit sit nostrum, totam esse magnam doloremque repellendus. Similique, iure sed voluptatem quia molestiae aut incidunt facilis sequi! Veniam cupiditate optio magnam officiis cumque beatae laudantium, quas natus at aliquid nostrum, voluptatem aliquam quia doloremque, fugit fuga facere esse. Nostrum numquam nam, praesentium iusto accusamus quasi delectus rem vero laborum, optio blanditiis commodi id quidem beatae in. Laudantium fugit aspernatur impedit quam maiores officiis! Odit, est quae obcaecati repudiandae modi aliquid corporis natus dolores harum porro perferendis magni nam. Aperiam provident accusamus soluta optio eaque incidunt, quos modi nulla eligendi quo unde ipsa. Maxime distinctio minus beatae consequuntur assumenda ab vitae pariatur. Commodi maiores eius esse totam accusantium molestiae accusamus quas fugiat placeat quaerat voluptate corrupti architecto sapiente reiciendis obcaecati molestias, at tempore quisquam! Quam ratione aliquid quo illo delectus eaque quae reiciendis dicta corporis obcaecati, nesciunt veritatis molestiae impedit ut mollitia nam quisquam in aut quia nemo. Ducimus nulla assumenda numquam debitis recusandae dicta quam amet dolores, reprehenderit reiciendis ipsum sapiente sit alias obcaecati praesentium consequatur ipsa natus iste distinctio officia vel fugiat dolore delectus. Molestiae vero omnis blanditiis perspiciatis quibusdam, ipsam quo fugiat sunt pariatur minima aperiam ratione, unde distinctio porro incidunt praesentium repellendus aliquam autem dolores natus. Ab corporis earum veniam corrupti neque aperiam! Perferendis, eligendi, praesentium totam quia excepturi exercitationem dolores debitis cumque optio consectetur et suscipit cupiditate fuga nam commodi minima molestiae odit consequatur id enim aut quisquam eum. Modi dolores fuga neque praesentium repellendus, aspernatur ea quod? Corporis quaerat, nobis culpa quod nesciunt eum distinctio itaque cumque molestias impedit, deleniti delectus. Eum repellat architecto velit delectus eius praesentium, temporibus a nobis ad unde quaerat minus illum eos culpa earum possimus? Doloribus nostrum, impedit aut, officia amet at fuga velit minima tempora, harum molestiae non nisi quia maxime? Odio quo reiciendis nostrum repudiandae, alias delectus aut ullam quisquam. Eius?"})]})}var g=t(14),q=t(11),O=t(30),y=function(e){var a=e.wavescapeMatrix,t=Object(i.useRef)(null),s=400,n=400;return Object(i.useEffect)((function(){var e=t.current,i=e.getContext("2d");e.width=s*devicePixelRatio,e.height=n*devicePixelRatio,i.scale(devicePixelRatio,devicePixelRatio),e.style.width="400px",e.style.height="400px";var r,o=[0,0],u=[e.width-o[0],e.height-o[1]];a&&(r=a[0].length,i.clearRect(0,0,i.canvas.width,i.canvas.height),i.setTransform(1,0,0,-1,0,i.canvas.height),function(e,a,t){for(var i=0;i<e.length-1;i++)for(var s=0;s<e[i].length-1;s++)0===i?(a.beginPath(),a.moveTo(e[i][s].x,e[i][s].y),a.lineTo(e[i][s+1].x,e[i][s+1].y),a.lineTo(e[i+1][s].x,e[i+1][s].y),a.fillStyle=t[i][s],a.fill()):(a.beginPath(),a.moveTo(e[i][s].x,e[i][s].y),a.lineTo(e[i-1][s+1].x,e[i-1][s+1].y),a.lineTo(e[i][s+1].x,e[i][s+1].y),a.lineTo(e[i+1][s].x,e[i+1][s].y),a.fillStyle=t[i][s],a.fill())}(function(e,a,t,i,s){for(var n=e/t,r=[],o=0;o<t+1;o++){for(var u=[],c=0;c<t+1;c++)o<=c&&u.push({x:(c-o)*n+o*n/2+i,y:o*n+s});r.push(u)}return r}(u[0],0,r,o[0],o[1]),i,a))}),[a,s,n]),Object(f.jsx)("canvas",{width:s,height:n,ref:t})};var C=t(379),D=t(383);var A=function(e){var a=e.wavescapesData,t=Object(i.useState)(!1),s=Object(q.a)(t,2),n=s[0],r=s[1];return Object(i.useEffect)((function(){a.length>0&&r(!0)}),[a]),Object(f.jsxs)(u.a,{children:[Object(f.jsx)(C.a,{onChange:function(){return r(!n)},checked:n}),Object(f.jsx)(l.a,{variant:"h6",children:"Static Analysis"}),Object(f.jsx)(D.a,{in:n,children:a.map((function(e,a){return Object(f.jsx)(y,{wavescapeMatrix:e},"w.".concat(a))}))})]})},F=t(8),w=t(371),k=t(366),S=t(384),E=t(365),R=t(380),M=t(369);var P=function(e){var a=e.resolutionMode,t=e.setResolutionMode,s=Object(i.useState)(!1),n=Object(q.a)(s,2),r=n[0],o=n[1],u=Object(i.useRef)(null);return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(S.a,{component:"fieldset",children:[Object(f.jsx)(E.a,{component:"legend",children:"Resolution"}),Object(f.jsxs)(k.a,{row:!0,defaultValue:"quarter",onChange:function(e){var i=Object(F.a)({},a);switch(i.seconds=parseFloat(u.current.value),e.target.value){case"sixteenth":i.noteResolutionValue=.25,i.useSeconds=!1;break;case"eighth":i.noteResolutionValue=.5,i.useSeconds=!1;break;case"quarter":i.noteResolutionValue=1,i.useSeconds=!1;break;case"half":i.noteResolutionValue=2,i.useSeconds=!1;break;case"whole":i.noteResolutionValue=4,i.useSeconds=!1;break;case"seconds":i.useSeconds=!0}t(i)},"aria-label":"resolution",name:"row-radio-buttons-group",children:[Object(f.jsx)(R.a,{value:"sixteenth",control:Object(f.jsx)(w.a,{}),label:" \ud834\udd61"}),Object(f.jsx)(R.a,{value:"eighth",control:Object(f.jsx)(w.a,{}),label:" \ud834\udd60"}),Object(f.jsx)(R.a,{value:"quarter",control:Object(f.jsx)(w.a,{}),label:"\u2669"}),Object(f.jsx)(R.a,{value:"half",control:Object(f.jsx)(w.a,{}),label:"\ud834\udd5e"}),Object(f.jsx)(R.a,{value:"whole",control:Object(f.jsx)(w.a,{}),label:"\ud834\udd5d"}),Object(f.jsx)(R.a,{value:"seconds",control:Object(f.jsx)(w.a,{}),label:Object(f.jsx)(M.a,{error:r,helperText:r&&"Invalid input",label:"in seconds",id:"standard-size-small",defaultValue:"1.5",size:"small",variant:"standard",onChange:function(){var e=Object(F.a)({},a);e.seconds=parseFloat(u.current.value),isNaN(e.seconds)?o(!0):(t(e),o(!1))},inputRef:u})})]})]})})},T=t(49),I=t(368),B=T.c().domain([0,1]).range(T.b(0,255,1)),N=function(e,a,t){var i,s,n,r=Math.atan2(a,e);return(r=-r)<0&&(r+=2*Math.PI),r>=0&&r<I.f/3?(i=1,s=3*r/I.f,n=0):r>=I.f/3&&r<2*I.f/3?(i=2-3*r/I.f,s=1,n=0):r>=2*I.f/3&&r<I.f?(i=0,s=1,n=3*r/I.f-2):r>=I.f&&r<4*I.f/3?(i=0,s=4-3*r/I.f,n=1):r>=4*I.f/3&&r<5*I.f/3?(i=3*r/I.f-4,s=0,n=1):r>=5*I.f/3&&r<2*I.f&&(i=1,s=0,n=6-3*r/I.f),{r:i=B(i),g:s=B(s),b:n=B(n),a:B(t)}};function G(e){var a=e.toPolar(),t=a.phi,i=a.r;t<0&&(t+=2*I.f);var s=function(e){var a,t,i;return e>=0&&e<I.f/3?(a=1,t=3*e/I.f,i=0):e>=I.f/3&&e<2*I.f/3?(a=2-3*e/I.f,t=1,i=0):e>=2*I.f/3&&e<I.f?(a=0,t=1,i=3*e/I.f-2):e>=I.f&&e<4*I.f/3?(a=0,t=4-3*e/I.f,i=1):e>=4*I.f/3&&e<5*I.f/3?(a=3*e/I.f-4,t=0,i=1):e>=5*I.f/3&&e<2*I.f&&(a=1,t=0,i=6-3*e/I.f),a=B(a),t=B(t),i=B(i),"rgb(".concat(a,", ").concat(t,", ").concat(i,")")}(t).slice(3,-1);return"rgba".concat(s,", ").concat(i,")")}var _=function(e){var a=e.protoDataCoeff,t=e.traceDataCoeff,s=e.userPcvsCoeff,n=e.currentSubdiv,r=e.performanceCoeff,o=Object(i.useRef)(null),u=440,c=u,l=180,m=.01;Object(i.useEffect)((function(){var e=o.current,a=e.getContext("2d"),t=Math.floor(l*devicePixelRatio),i=a.createImageData(2*t,2*t),s=i.data;e.width=u*devicePixelRatio,e.height=c*devicePixelRatio,a.scale(devicePixelRatio,devicePixelRatio),e.style.width="440px",e.style.height="440px";for(var n=-t;n<t;n++)for(var r=-t;r<t;r++){var m=Math.sqrt(n*n+r*r);if(!(m>t)){var d=4*(n+t+(r+t)*(2*t)),p=N(n,r,m/t);s[d]=p.r,s[d+1]=p.g,s[d+2]=p.b,s[d+3]=p.a}}a.putImageData(i,0,0)}),[u,c,l]),Object(i.useEffect)((function(){o.current.getContext("2d").getImageData(0,0,1,1)}),[]);var d=function(e,a,t,i){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,n=T.a().innerRadius(0).outerRadius(a*u/2).startAngle(0).endAngle(2*Math.PI);return Object(f.jsx)("path",{transform:"translate(".concat(e.x*l,",").concat(-e.y*l,")"),fill:t,fillOpacity:s,d:n()},i)};return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("svg",{width:u,height:c,children:[Object(f.jsx)("foreignObject",{x:40,y:40,width:u,height:c,children:Object(f.jsx)("canvas",{style:{zIndex:"-1"},width:u,height:c,ref:o})}),Object(f.jsxs)("g",{transform:"translate(".concat(220,",").concat(220,")"),children:[Object(f.jsx)("path",{fill:"azure",d:T.a().innerRadius(179).outerRadius(181).startAngle(0).endAngle(2*Math.PI)()}),a?a.map((function(e,a){return function(e,a){var t=T.a().innerRadius(4.4).outerRadius(6.6).startAngle(0).endAngle(2*Math.PI),i="",s="",n=!1;if(e.label.includes("_")||e.label.includes("^"))for(var r=0;r<e.label.length;r++)"_"===e.label[r]&&(i=e.label.slice(0,r),s=e.label.slice(r+1,e.label.length),n=!0),"^"===e.label[r]&&(i=e.label.slice(0,r),s=e.label.slice(r+1,e.label.length));else i=e.label;var o=0,u=5;return 1===Math.sign(e.x)?o=20:-1===Math.sign(e.x)&&(o=-20),1===Math.sign(-e.y)?u=25:-1===Math.sign(-e.y)&&(u=-8),0===e.x&&0===e.y&&(o=15,u=5),Object(f.jsxs)("g",{transform:"translate(".concat(e.x*l,",").concat(-e.y*l,")"),children:[Object(f.jsx)("path",{fill:"grey",d:t()},a),Object(f.jsxs)("text",{textAnchor:"middle",dx:o,dy:u,fontSize:"20px",children:[i,n?Object(f.jsx)("tspan",{fontSize:15,baselineShift:"sub",children:s}):Object(f.jsx)("tspan",{fontSize:15,baselineShift:"super",children:s})]})]},"p.".concat(a))}(e,a)})):null,t?function(e){var a=T.a().innerRadius(0).outerRadius(e*u/2).startAngle(0).endAngle(2*Math.PI),i=T.a().innerRadius(e*u/2).outerRadius((e+.005)*u/2).startAngle(0).endAngle(2*Math.PI),s=[];s.push(1);for(var r=1;r<10;r++)s.push(.8*s[r-1]);return(n<10?t.slice(0,n+1):t.slice(n-10,n)).reverse().map((function(e,t){return Object(f.jsxs)("g",{children:[Object(f.jsx)("path",{transform:"translate(".concat(e.x*l,",").concat(-e.y*l,")"),fill:"white",fillOpacity:s[t],d:a()},t),Object(f.jsx)("path",{transform:"translate(".concat(e.x*l,",").concat(-e.y*l,")"),fill:"black",fillOpacity:s[t],d:i()},"t.".concat(t))]},"g.".concat(t))}))}(m):null,s?s.map((function(e,a){return d(e,m,"teal",a)})):null,d(r,.02,"teal")]})]})})},V=[[{label:"\u03a9",x:0,y:0},{label:"C",x:1,y:0},{label:"C\u266f",x:.866,y:-.5},{label:"D",x:.5,y:-.866},{label:"E\u266d",x:0,y:-1},{label:"E",x:-.5,y:-.866},{label:"F",x:-.866,y:-.5},{label:"F\u266f",x:-1,y:0},{label:"G",x:-.866,y:.5},{label:"A\u266d",x:-.5,y:.866},{label:"A",x:0,y:1},{label:"B\u266d",x:.5,y:.866},{label:"B",x:.866,y:.5}],[{label:"\u03a9",x:0,y:0},{label:"T_0",x:1,y:0},{label:"T_1",x:.5,y:-.866},{label:"T_2",x:-.5,y:-.866},{label:"T_3",x:-1,y:0},{label:"T_4",x:-.5,y:.866},{label:"T_5",x:.5,y:.866}],[{label:"\u03a9",x:0,y:0},{label:"C+",x:1,y:0},{label:"C\u266f+",x:0,y:-1},{label:"D+",x:-1,y:0},{label:"D\u266f+",x:0,y:1},{label:"H_0,3",x:.5,y:.5},{label:"H_0,1",x:.5,y:-.5},{label:"H_1,2",x:-.5,y:-.5},{label:"H_2,3",x:-.5,y:.5}],[{label:"\u03a9",x:0,y:0},{label:"C^o7",x:1,y:0},{label:"C\u266f^o7",x:-.5,y:-.866},{label:"D^o7",x:-.5,y:.866},{label:"O_0,2",x:.25,y:.433},{label:"O_0,1",x:.25,y:-.433},{label:"O_1,2",x:-.5,y:0}],[{label:"\u03a9",x:0,y:0},{label:"C",x:1,y:0},{label:"F",x:.866,y:-.5},{label:"B\u266d",x:.5,y:-.866},{label:"E\u266d",x:0,y:-1},{label:"A\u266d",x:-.5,y:-.866},{label:"C\u266f",x:-.866,y:-.5},{label:"F\u266f",x:-1,y:0},{label:"B",x:-.866,y:.5},{label:"E",x:-.5,y:.866},{label:"A",x:0,y:1},{label:"D",x:.5,y:.866},{label:"G",x:.866,y:.5},{label:"\u266e",x:.267,y:.462},{label:"5\u266d",x:0,y:-.533},{label:"2\u266f",x:-.267,y:.462},{label:"3\u266d",x:.462,y:-.267},{label:"4\u266f",x:-.533,y:0},{label:"\u266d",x:.462,y:.267},{label:"6\u266f",x:-.267,y:-.462},{label:"\u266f",x:0,y:.533},{label:"4\u266d",x:.267,y:-.462},{label:"3\u266f",x:-.462,y:.267},{label:"2\u266d",x:.533,y:0},{label:"5\u266f",x:-.462,y:-.267}],[{label:"\u03a9",x:0,y:0},{label:"WT_1",x:1,y:0},{label:"WT_2",x:-1,y:0}]];var z=function(e){var a=e.coeffTracesData,t=e.showPrototypes,s=e.userPcvs,n=e.currentSubdiv,r=e.midiDevNotesDftCoeffs,o=Object(i.useState)(V),u=Object(q.a)(o,2),c=u[0],l=u[1];return Object(i.useEffect)((function(){l(t?V:[])}),[t]),Object(i.useEffect)((function(){console.log(c)}),[c]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(_,{protoDataCoeff:c[0],traceDataCoeff:a[0],userPcvsCoeff:s[0],currentSubdiv:n,performanceCoeff:r[1]}),Object(f.jsx)(_,{protoDataCoeff:c[1],traceDataCoeff:a[1],userPcvsCoeff:s[1],currentSubdiv:n,performanceCoeff:r[2]}),Object(f.jsx)(_,{protoDataCoeff:c[2],traceDataCoeff:a[2],userPcvsCoeff:s[2],currentSubdiv:n,performanceCoeff:r[3]}),Object(f.jsx)(_,{protoDataCoeff:c[3],traceDataCoeff:a[3],userPcvsCoeff:s[3],currentSubdiv:n,performanceCoeff:r[4]}),Object(f.jsx)(_,{protoDataCoeff:c[4],traceDataCoeff:a[4],userPcvsCoeff:s[4],currentSubdiv:n,performanceCoeff:r[5]}),Object(f.jsx)(_,{protoDataCoeff:c[5],traceDataCoeff:a[5],userPcvsCoeff:s[5],currentSubdiv:n,performanceCoeff:r[6]})]})},H=t(151),L=t.n(H),Q=t(150),U=t.n(Q),J=t(149),W=t.n(J),K=t(385);function X(e,a,t){O.d.cancel(0),t(0),O.d.stop();var i=[];e.tracks.forEach((function(e){return e.notes.forEach((function(e){i.push(e)}))})),i.forEach((function(e){return e.subdiv=Math.floor(e.time/a)}));new O.b((function(e,a){Y.triggerAttackRelease(a.name,a.duration,e,a.velocity),t(a.subdiv)}),[].concat(i)).start(0)}var Y=new O.c({urls:{A0:"A0.mp3",C1:"C1.mp3","D#1":"Ds1.mp3","F#1":"Fs1.mp3",A1:"A1.mp3",C2:"C2.mp3","D#2":"Ds2.mp3","F#2":"Fs2.mp3",A2:"A2.mp3",C3:"C3.mp3","D#3":"Ds3.mp3","F#3":"Fs3.mp3",A3:"A3.mp3",C4:"C4.mp3","D#4":"Ds4.mp3","F#4":"Fs4.mp3",A4:"A4.mp3",C5:"C5.mp3","D#5":"Ds5.mp3","F#5":"Fs5.mp3",A5:"A5.mp3",C6:"C6.mp3","D#6":"Ds6.mp3","F#6":"Fs6.mp3",A6:"A6.mp3",C7:"C7.mp3","D#7":"Ds7.mp3","F#7":"Fs7.mp3",A7:"A7.mp3",C8:"C8.mp3"},release:1,baseUrl:"https://tonejs.github.io/audio/salamander/"}).toDestination();function Z(){return Object(f.jsxs)(u.a,{children:[Object(f.jsx)(K.a,{onClick:function(){console.log("stop"),O.d.stop()},size:"large",children:Object(f.jsx)(W.a,{fontSize:"large"})}),Object(f.jsx)(K.a,{onClick:function(){console.log("pause"),O.d.pause()},size:"large",children:Object(f.jsx)(U.a,{fontSize:"large"})}),Object(f.jsx)(K.a,{onClick:function(){console.log("play"),"running"!==O.e.state&&(console.log("state running"),O.e.resume()),O.d.start()},size:"large",children:Object(f.jsx)(L.a,{fontSize:"large"})})]})}Y.volume.value=-20;var $=t(1),ee=t(2),ae=t(96);function te(e){for(var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=e.length,n=[],r=0;r<s/2+1;r++){for(var o=0,u=0;u<s;u++)o=I.a(I.e(e[u],I.c(I.e(I.d,-2*I.f*r*u/s))),o);n.push(o)}if(n=n.slice(),a){var c=n[0];0!=c&&(n=n.map((function(e){return I.b(e,c)})))}return t&&n.forEach((function(e){e.re=Math.round(1e4*e.re)/1e4,e.im=Math.round(1e4*e.im)/1e4})),i&&(n=n.map((function(e){return e.toPolar()}))),n}function ie(e){for(var a=e[0],t=1;t<e.length;t++){for(var i=[],s=0;s<e[t].length;s++)i.push(I.a(a[s],e[t][s]));a=i.slice()}var n=a[0];return a=a.map((function(e){return I.b(e,n)}))}var se=function(){function e(){Object($.a)(this,e),this.C=0,this.Cs=0,this.D=0,this.Ds=0,this.E=0,this.F=0,this.Fs=0,this.G=0,this.Gs=0,this.A=0,this.As=0,this.B=0}return Object(ee.a)(e,[{key:"addNoteDuration",value:function(e,a){switch(e){case"C":this.C+=a;break;case"C#":this.Cs+=a;break;case"D":this.D+=a;break;case"D#":this.Ds+=a;break;case"E":this.E+=a;break;case"F":this.F+=a;break;case"F#":this.Fs+=a;break;case"G":this.G+=a;break;case"G#":this.Gs+=a;break;case"A":this.A+=a;break;case"A#":this.As+=a;break;case"B":this.B+=a}}},{key:"getPcvAsArray",value:function(){return[this.C,this.Cs,this.D,this.Ds,this.E,this.F,this.Fs,this.G,this.Gs,this.A,this.As,this.B]}},{key:"add",value:function(e){this.C=e.C,this.Cs=e.Cs,this.D=e.D,this.Ds=e.Ds,this.E=e.E,this.F=e.F,this.Fs=e.Fs,this.G=e.G,this.Gs=e.Gs,this.A=e.A,this.As=e.As,this.B=e.B}}]),e}();function ne(e,a,t){var i,s=a.noteResolutionValue,n=a.seconds,r=a.useSeconds;i=r?isNaN(n)?1:n:s*(60/t),console.log(t),console.log(i);var o=e.duration,u=[];e.tracks.filter((function(e){return!1===e.instrument.percussion})).forEach((function(e){u.push(re(e.notes,i,o))}));for(var c=[],l=0;l<u[0].length;l++)c.push(new se);for(var m=0;m<u.length;m++)for(var d=0;d<u[m].length;d++)for(var p=0;p<u[m][d].length;p++){var f=u[m][d][p],b=f.pitch,h=f.duration;c[d].addNoteDuration(b,h)}var v=c.map((function(e){return te(e.getPcvAsArray())})),j=[];j.push(v);for(var x=[],g=j[0],q=1;q<7;q++){for(var O=[],y=0;y<g.length;y++)O.push({x:g[y][q].re,y:g[y][q].im});x.push(O)}return{tracesData:x,resolution:i}}function re(e,a,t){for(var i=[],s=a,n=function(a){var t=[];e.forEach((function(e){var i=e.time,n=e.duration;if(function(e,a,t,i){if(e>t&&e<t+i||e+a>t&&e+a<t+i||e<=t&&e+a>=t+i)return!0;return!1}(i,n,a,s)){var r={pitch:e.pitch};r.duration=i<a?i+n<a+s?i+n-a:s:i+n<=a+s?n:a+s-i,t.push(r)}})),i.push(t)},r=0;r<t;r+=a)n(r);return i}var oe,ue=t(381),ce=t(328),le=t(382),me=80;var de=function(){var e=Object(i.useState)([]),a=Object(q.a)(e,2),t=a[0],s=a[1],n=Object(i.useState)([]),r=Object(q.a)(n,2),o=r[0],c=r[1],l=Object(i.useState)(!0),d=Object(q.a)(l,2),p=d[0],b=d[1],h=Object(i.useState)(0),v=Object(q.a)(h,2),j=v[0],x=v[1],y=Object(i.useState)({noteResolutionValue:1,seconds:1.5,useSeconds:!1}),D=Object(q.a)(y,2),F=D[0],w=D[1],k=Object(i.useState)([]),S=Object(q.a)(k,2),E=S[0],T=S[1],I=Object(i.useRef)(null),B=Object(i.useState)(""),N=Object(q.a)(B,2),_=N[0],V=N[1],H=Object(i.useState)(te([0,0,0,0,0,0,0,0,0,0,0,0]).map((function(e){return{x:e.re,y:e.im}}))),L=Object(q.a)(H,2),Q=L[0],U=L[1],J=Object(i.useState)(!1),W=Object(q.a)(J,2),K=W[0],Y=W[1];function $(e){var a;try{a=function(e){for(var a=[],t=!1,i=!1,s=0;s<e.length;s++)if("{"!==e[s]&&"("!==e[s]||(t=!0,"{"===e[s]&&(i=!0)),t){for(var n=[],r=s+1;"}"!==e[r]&&")"!==e[r];r++){if(","!==e[r]&&"."!==e[r]&&isNaN(parseFloat(e[r])))throw new Error("Found NaN");n.push(e[r])}if(""===(n=n.join("")))throw new Error("Empty input");for(var o=[],u=0,c=0;c<n.length;c++){if(","===n[c]){var l=n.slice(c-u,c);if(0===l.length)throw new Error("Two consecutive comas");o.push(+l),u=-1}u++}var m=n.slice(n.length-u,n.length);if(0===m.length)throw new Error("Missing last number");if(o.push(+m),i){for(var d=[0,0,0,0,0,0,0,0,0,0,0,0],p=0;p<o.length;p++){if(o[p]<0||o[p]>=12)throw new Error("Set notation: out of range");d[o[p]]+=1}a.push(d)}else{if(12!==o.length)throw new Error("Vectorial notation: missing elements");a.push(o)}t=!1,i=!1,s+=u}if(0===a.length)throw new Error("Invalid input");return a}(e)}catch(m){return console.log(m.message),void Y(!0)}for(var t=[],i=0;i<a.length;i++)t.push(te(a[i],!0,!0,!1));for(var s=[],n=1;n<7;n++){for(var r=[],o=0;o<t.length;o++)r.push({x:t[o][n].re,y:t[o][n].im});s.push(r)}if(0===E.length)T(s);else{for(var u=E.slice(),c=0;c<E.length;c++){var l;(l=u[c]).push.apply(l,Object(g.a)(s[c]))}T(u)}}return Object(i.useEffect)((function(){var e=document.getElementById("file").files[0];if(e){var a=new FileReader;a.readAsArrayBuffer(e),a.onload=function(e){var a=function(e){var a=new ae.Midi(e),t=a.header.tempos.map((function(e){return Math.round(e.bpm)})),i=Math.max.apply(Math,Object(g.a)(t)),s=a.tracks.filter((function(e){return!1===e.instrument.percussion}));return a.tracks=s,{midiData:a,midiBpm:i}}(e.target.result),t=a.midiData,i=a.midiBpm;me=i;var n=(oe=t).duration/50;s(function(e){for(var a=e[0].length,t=e[0].length,i=2,s=1;s<a;s++){for(var n=[],r=0;r+i<=t;r++){var o=e[0].slice(r,r+i);n.push(ie(o))}i++,e.push(n)}for(var u=[],c=0;c<6;c++){for(var l=[],m=0;m<e.length;m++){for(var d=[],p=0;p<e[m].length;p++)d.push("");l.push(d)}u.push(l)}for(var f=0;f<e.length;f++)for(var b=0;b<e[f].length;b++)for(var h=1;h<e[f][b].length;h++)u[h-1][f][b]=G(e[f][b][h]);return u}(function(e,a){var t=[];e.tracks.forEach((function(i){return t.push(re(i.notes,a,e.duration))})),console.log(t);for(var i=[],s=0;s<t[0].length;s++)i.push(new se);for(var n=0;n<t.length;n++)for(var r=0;r<t[n].length;r++)for(var o=0;o<t[n][r].length;o++){var u=t[n][r][o],c=u.pitch,l=u.duration;i[r].addNoteDuration(c,l)}var m=i.map((function(e){return te(e.getPcvAsArray())})),d=[];return d.push(m),d}(oe,n)));var r=ne(t,F,me),o=r.tracesData,u=r.resolution;c(o),X(oe,u,x)}}}),[_]),Object(i.useEffect)((function(){var e=[],a=new O.c({urls:{A0:"A0.mp3",C1:"C1.mp3","D#1":"Ds1.mp3","F#1":"Fs1.mp3",A1:"A1.mp3",C2:"C2.mp3","D#2":"Ds2.mp3","F#2":"Fs2.mp3",A2:"A2.mp3",C3:"C3.mp3","D#3":"Ds3.mp3","F#3":"Fs3.mp3",A3:"A3.mp3",C4:"C4.mp3","D#4":"Ds4.mp3","F#4":"Fs4.mp3",A4:"A4.mp3",C5:"C5.mp3","D#5":"Ds5.mp3","F#5":"Fs5.mp3",A5:"A5.mp3",C6:"C6.mp3","D#6":"Ds6.mp3","F#6":"Fs6.mp3",A6:"A6.mp3",C7:"C7.mp3","D#7":"Ds7.mp3","F#7":"Fs7.mp3",A7:"A7.mp3",C8:"C8.mp3"},release:1,baseUrl:"https://tonejs.github.io/audio/salamander/"}).toDestination();function t(t){var i=t.data[0],s=O.a(t.data[1],"midi").toNote(),n=Math.round(.05*t.data[2]);switch(i){case 144:n>0?(a.triggerAttack(s,O.f(),n),e.push(s)):(a.triggerRelease(s,O.f()),e.filter((function(e){return e!==s})));break;case 128:a.triggerRelease(s,O.f()),e=e.filter((function(e){return e!==s}))}!function(e){var a=[0,0,0,0,0,0,0,0,0,0,0,0];e.forEach((function(e){switch(e.includes("#")?e.slice(0,2):e.slice(0,1)){case"C":a[0]+=1;break;case"C#":a[1]+=1;break;case"D":a[2]+=1;break;case"D#":a[3]+=1;break;case"E":a[4]+=1;break;case"F":a[5]+=1;break;case"F#":a[6]+=1;break;case"G":a[7]+=1;break;case"G#":a[8]+=1;break;case"A":a[9]+=1;break;case"A#":a[10]+=1;break;case"B":a[11]+=1}}));var t=te(a);t=t.map((function(e){return{x:e.re,y:e.im}})),U(t)}(e)}function i(e){console.log("Name: ".concat(e.port.name,", Brand: ").concat(e.port.manufacturer,", State: ").concat(e.port.state,", Type: ").concat(e.port.type))}a.volume.value=-30,navigator.requestMIDIAccess&&navigator.requestMIDIAccess().then((function(e){e.onstatechange=i,e.inputs.forEach((function(e){e.onmidimessage=t}))}),(function(){console.log("Could not connect MIDI")}))}),[]),Object(f.jsxs)(ue.a,{children:[Object(f.jsx)(Z,{}),Object(f.jsx)(ce.a,{children:Object(f.jsx)(R.a,{control:Object(f.jsx)(C.a,{onChange:function(){b(!p)},checked:p}),label:"Show Prototypes"})}),Object(f.jsx)(u.a,{component:"form",sx:{"& > :not(style)":{m:1,width:"25ch"}},noValidate:!0,autoComplete:"off",children:Object(f.jsx)(M.a,{error:K,helperText:K&&"Invalid input",id:"outlined-basic",label:"Pitch class vector",variant:"outlined",onKeyPress:function(e){"Enter"===e.key&&($(I.current.value),I.current.value="")},onChange:function(){Y(!1)},inputRef:I})}),Object(f.jsx)("div",{children:Object(f.jsxs)("label",{htmlFor:"file",children:[Object(f.jsx)("input",{style:{display:"none"},type:"file",id:"file",name:"file",value:_,onChange:function(e){return V(e.target.value)}}),Object(f.jsx)(m.a,{variant:"contained",color:"primary",component:"span",children:"Upload MIDI"})]})}),Object(f.jsx)(P,{setResolutionMode:w,resolutionMode:F}),Object(f.jsx)(m.a,{variant:"contained",color:"primary",onClick:function(){if(null!=oe){var e=ne(oe,F,me),a=e.tracesData,t=e.resolution;c(a),X(oe,t,x)}},children:"Change resolution"}),Object(f.jsxs)(ue.a,{children:[Object(f.jsx)(le.a,{}),Object(f.jsx)(A,{wavescapesData:t}),Object(f.jsx)(le.a,{}),Object(f.jsx)(z,{coeffTracesData:o,currentSubdiv:j,showPrototypes:p,userPcvs:E,midiDevNotesDftCoeffs:Q})]})]})};var pe=function(){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(v.a,{}),Object(f.jsxs)(p.a,{basename:"/MIDFT",children:[Object(f.jsx)(b,{}),Object(f.jsxs)(h.c,{children:[Object(f.jsx)(h.a,{exact:!0,path:"/",component:j}),Object(f.jsx)(h.a,{exact:!0,path:"/theory",component:x}),Object(f.jsx)(h.a,{exact:!0,path:"/analysis",component:de})]})]})]})};r.a.render(Object(f.jsx)(s.a.StrictMode,{children:Object(f.jsx)(pe,{})}),document.getElementById("root"))}},[[319,1,2]]]);
//# sourceMappingURL=main.9978d166.chunk.js.map