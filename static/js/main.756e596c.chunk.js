(this.webpackJsonpmidft=this.webpackJsonpmidft||[]).push([[0],{342:function(e,t){},360:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(68),s=a.n(c),i=a(6),o=a(18),l=a(10),u=a(9),h=a(445),f=a(439),b=a(446),j=a(441),d=a(442),x=a(447),g=a(88),p=a(11),A=a(113),O=a.n(A),m=a(440),v=a(0),y=Object(p.a)(h.a,{shouldForwardProp:function(e){return"open"!==e}})((function(e){var t=e.theme,a=e.open;return Object(u.a)({transition:t.transitions.create(["margin","width"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen})},a&&{width:"calc(100% - ".concat(400,"px)"),marginLeft:"".concat(400,"px"),transition:t.transitions.create(["margin","width"],{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.enteringScreen})})}));function w(e){var t=e.open,a=e.setOpen,n=e.inAnalysisPage;return Object(v.jsx)(f.a,{sx:{flexGrow:1},children:Object(v.jsx)(y,{position:"static",open:t,children:Object(v.jsxs)(b.a,{children:[Object(v.jsx)(m.a,{disabled:!n,color:"inherit","aria-label":"open drawer",onClick:function(){a(!0)},edge:"start",sx:Object(u.a)({mr:2},t&&{display:"none"}),children:Object(v.jsx)(O.a,{})}),Object(v.jsx)(j.a,{variant:"h3",component:"div",sx:{flexGrow:1},children:"Mi_DFT"}),Object(v.jsxs)(x.a,{"aria-label":"outlined button group",children:[Object(v.jsx)(d.a,{component:g.b,to:"/",variant:"contained",disableElevation:!0,children:"Home"}),Object(v.jsx)(d.a,{component:g.b,to:"/theory",variant:"contained",disableElevation:!0,children:"Theory"}),Object(v.jsx)(d.a,{component:g.b,to:"/analysis",variant:"contained",disableElevation:!0,children:"Analysis"})]})]})})})}var C=a(26),D=a(169),k=a.n(D),P=a(421),S=a(170),F=a.n(S),B=a(35),M=a(423),E=B.c().domain([0,1]).range(B.b(0,255,1)),I=function(e){var t,a,n;return e>=0&&e<M.f/3?(t=1,a=3*e/M.f,n=0):e>=M.f/3&&e<2*M.f/3?(t=2-3*e/M.f,a=1,n=0):e>=2*M.f/3&&e<M.f?(t=0,a=1,n=3*e/M.f-2):e>=M.f&&e<4*M.f/3?(t=0,a=4-3*e/M.f,n=1):e>=4*M.f/3&&e<5*M.f/3?(t=3*e/M.f-4,a=0,n=1):e>=5*M.f/3&&e<2*M.f&&(t=1,a=0,n=6-3*e/M.f),t=E(t),a=E(a),n=E(n),"rgb(".concat(t,", ").concat(a,", ").concat(n,")")},W=function(e,t,a){var n,r,c,s=Math.atan2(t,e);return(s=-s)<0&&(s+=2*Math.PI),s>=0&&s<M.f/3?(n=1,r=3*s/M.f,c=0):s>=M.f/3&&s<2*M.f/3?(n=2-3*s/M.f,r=1,c=0):s>=2*M.f/3&&s<M.f?(n=0,r=1,c=3*s/M.f-2):s>=M.f&&s<4*M.f/3?(n=0,r=4-3*s/M.f,c=1):s>=4*M.f/3&&s<5*M.f/3?(n=3*s/M.f-4,r=0,c=1):s>=5*M.f/3&&s<2*M.f&&(n=1,r=0,c=6-3*s/M.f),{r:n=E(n),g:r=E(r),b:c=E(c),a:E(a)}};function T(e){var t=e.toPolar(),a=t.phi,n=t.r;a<0&&(a+=2*M.f);var r=I(a).slice(3,-1);return"rgba".concat(r,", ").concat(n,")")}var G,R,L=function(e){var t=e.printablePitchClasses,a=e.traceData,n=e.userPcv,r=e.currentSubdiv,c=e.coeffNumber,s=300,i=270,o=[];if(a.length>0)for(var l=a[0],u=1;u<l[0].length;u++){for(var h=[],f=0;f<l.length;f++){var b=Math.round(1e4*l[f][u].re)/1e4,j=Math.round(1e4*l[f][u].im)/1e4;h.push({re:b,im:j})}o.push(h)}var d=2*M.f/100,x=B.b(0,2*M.f,d),g=B.b(0,1,.01),p=function(e,t,a){var n=B.a().innerRadius(t*s/2).outerRadius((t+.01)*s/2).startAngle(0).endAngle(2*M.f);return Object(v.jsx)("path",{transform:"translate(".concat(e.x*i/2,",").concat(-e.y*i/2,")"),fill:a,d:n()},e.id)};return Object(v.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:s,height:300,children:[Object(v.jsx)("g",{transform:"translate(".concat(150,",").concat(150,")"),children:g.map((function(e){return x.map((function(t,a){return function(e,t,a,n){var r=-M.f/2,c=B.a().innerRadius(n*i/2).outerRadius((n+.01)*i/2).startAngle(-(e+r)).endAngle(-(e+d+r));return Object(v.jsx)("path",{fill:I(e),fillOpacity:n,stroke:I(e),strokeOpacity:n/10,d:c()},"".concat(a,".").concat(t))}(t,a,c,e)}))}))}),Object(v.jsx)("g",{transform:"translate(".concat(150,",").concat(150,")"),children:t.map((function(e){return e.coeff.includes(c+1)?p(e,.05,"grey"):null}))}),Object(v.jsx)("g",{transform:"translate(".concat(150,",").concat(150,")"),children:n.map((function(e,t){return e.map((function(e,a){return a>0&&c+1===a?p({x:e.re,y:e.im,id:"userpcv".concat(c,".").concat(t,".").concat(a)},.03,"navy"):null}))}))}),Object(v.jsx)("g",{transform:"translate(".concat(150,",").concat(150,")"),children:o.length>1?o[c].map((function(e,t){return function(e,t,a){var n=B.a().innerRadius(0).outerRadius(3).startAngle(0).endAngle(2*M.f);return Object(v.jsx)("path",{transform:"translate(".concat(e.re*i/2,",").concat(-e.im*i/2,")"),fill:"black",d:n()},"trace".concat(t,".").concat(a))}(e,c,t)})):null}),Object(v.jsx)("g",{transform:"translate(".concat(150,",").concat(150,")"),children:o.length>1?function(e){return Object(v.jsx)("path",{transform:"translate(".concat(o[e][r].re*i/2,",").concat(-o[e][r].im*i/2,")"),fill:"white",d:B.a().innerRadius(4.5).outerRadius(9).startAngle(0).endAngle(2*M.f)()},"currentSubdiv".concat(r))}(c):null})]},"circle".concat(c))},z=a(171),N=a(33),Q=a(416),J=a(176),H=a.n(J),V=a(175),Y=a.n(V),K=a(174),Z=a.n(K),q=a(429),U=0,X=Object(p.a)(j.a)({fontSize:"0.75rem",opacity:.38,fontWeight:500,letterSpacing:.2});function _(e){var t=Math.floor(e/60),a=Math.floor(e-60*t);return"".concat(t,":").concat(a<9?"0".concat(a):a)}function $(e,t,a){N.d.cancel(0),a(0),N.d.stop(),U=e.duration;var n=[];e.tracks.forEach((function(e){return e.notes.forEach((function(e){n.push(e)}))})),n.forEach((function(e){e.subdiv=Math.floor(e.time/t)})),(G=new N.b((function(e,t){ee.triggerAttackRelease(t.name,t.duration,e,t.velocity),a(t.subdiv)}),[].concat(n)).start(0)).loop=!0,G.loopEnd=U}var ee=new N.c({urls:{A0:"A0.mp3",C1:"C1.mp3","D#1":"Ds1.mp3","F#1":"Fs1.mp3",A1:"A1.mp3",C2:"C2.mp3","D#2":"Ds2.mp3","F#2":"Fs2.mp3",A2:"A2.mp3",C3:"C3.mp3","D#3":"Ds3.mp3","F#3":"Fs3.mp3",A3:"A3.mp3",C4:"C4.mp3","D#4":"Ds4.mp3","F#4":"Fs4.mp3",A4:"A4.mp3",C5:"C5.mp3","D#5":"Ds5.mp3","F#5":"Fs5.mp3",A5:"A5.mp3",C6:"C6.mp3","D#6":"Ds6.mp3","F#6":"Fs6.mp3",A6:"A6.mp3",C7:"C7.mp3","D#7":"Ds7.mp3","F#7":"Fs7.mp3",A7:"A7.mp3",C8:"C8.mp3"},release:1,baseUrl:"https://tonejs.github.io/audio/salamander/"}).toDestination();function te(e){var t=e.fileName,a=(e.currentWavescapeSubdiv,Object(n.useState)(0)),r=Object(l.a)(a,2),c=r[0],s=r[1];return Object(v.jsxs)(f.a,{sx:{display:"flex",flexDirection:"column",alignItems:"center",width:"60%"},children:[Object(v.jsxs)(f.a,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:[Object(v.jsxs)(Q.a,{direction:"row",sx:{flexGrow:1,paddingLeft:"10%"},children:[Object(v.jsx)(m.a,{sx:{padding:"0"},onClick:function(){console.log("stop"),N.d.stop(),ae()},size:"large",children:Object(v.jsx)(Z.a,{fontSize:"large"})}),Object(v.jsx)(m.a,{sx:{padding:"0"},onClick:function(){console.log("pause"),N.d.pause(),ae()},size:"large",children:Object(v.jsx)(Y.a,{fontSize:"large"})}),Object(v.jsx)(m.a,{sx:{padding:"0"},onClick:function(){console.log("play"),"running"!==N.e.state&&(console.log("state running"),N.e.resume()),N.d.start(),!R&&G&&(R=setInterval((function(){return s(G.progress)}),1e3))},size:"large",children:Object(v.jsx)(H.a,{fontSize:"large"})})]}),Object(v.jsx)(j.a,{color:t?"primary":"error",noWrap:!0,sx:{flexGrow:"2",paddingRight:"10%"},children:t||"No midi file uploaded"})]}),Object(v.jsx)(q.a,{"aria-label":"Playback",size:"small",value:c?100*c:0,onChange:function(e,t){s(t/100),N.d.seconds=t/100*U},sx:{width:"90%"}}),Object(v.jsxs)(f.a,{sx:{display:"flex",width:"90%",alignItems:"center",justifyContent:"space-between",mt:-1},children:[Object(v.jsxs)(X,{children:["-",_(U-c*U)]}),Object(v.jsx)(X,{children:_(U)})]})]})}function ae(){clearInterval(R),R=null}ee.volume.value=-20;var ne=a(2),re=a(3),ce=a(119);function se(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=e.length,c=[],s=0;s<r/2+1;s++){for(var i=0,o=0;o<r;o++)i=M.a(M.e(e[o],M.c(M.e(M.d,-2*M.f*s*o/r))),i);c.push(i)}if(c=c.slice(),t){var l=c[0];0!=l&&(c=c.map((function(e){return M.b(e,l)})))}return a&&c.forEach((function(e){e.re=Math.round(1e4*e.re)/1e4,e.im=Math.round(1e4*e.im)/1e4})),n&&(c=c.map((function(e){return e.toPolar()}))),c}function ie(e){for(var t=e[0],a=1;a<e.length;a++){for(var n=[],r=0;r<e[a].length;r++)n.push(M.a(t[r],e[a][r]));t=n.slice()}var c=t[0];return t=t.map((function(e){return M.b(e,c)}))}var oe=function(){function e(){Object(ne.a)(this,e),this.C=0,this.Cs=0,this.D=0,this.Ds=0,this.E=0,this.F=0,this.Fs=0,this.G=0,this.Gs=0,this.A=0,this.As=0,this.B=0}return Object(re.a)(e,[{key:"addNoteDuration",value:function(e,t){switch(e){case"C":this.C+=t;break;case"C#":this.Cs+=t;break;case"D":this.D+=t;break;case"D#":this.Ds+=t;break;case"E":this.E+=t;break;case"F":this.F+=t;break;case"F#":this.Fs+=t;break;case"G":this.G+=t;break;case"G#":this.Gs+=t;break;case"A":this.A+=t;break;case"A#":this.As+=t;break;case"B":this.B+=t}}},{key:"getPcvAsArray",value:function(){return[this.C,this.Cs,this.D,this.Ds,this.E,this.F,this.Fs,this.G,this.Gs,this.A,this.As,this.B]}},{key:"add",value:function(e){this.C=e.C,this.Cs=e.Cs,this.D=e.D,this.Ds=e.Ds,this.E=e.E,this.F=e.F,this.Fs=e.Fs,this.G=e.G,this.Gs=e.Gs,this.A=e.A,this.As=e.As,this.B=e.B}}]),e}();function le(e,t,a){var n,r=t.noteResolutionValue,c=t.seconds,s=t.useSeconds;n=s?isNaN(c)?1:c:r*(60/a);var i=e.duration,o=[];e.tracks.filter((function(e){return!1===e.instrument.percussion})).forEach((function(e){o.push(ue(e.notes,n,i))}));for(var l=[],u=0;u<o[0].length;u++)l.push(new oe);for(var h=0;h<o.length;h++)for(var f=0;f<o[h].length;f++)for(var b=0;b<o[h][f].length;b++){var j=o[h][f][b],d=j.pitch,x=j.duration;l[f].addNoteDuration(d,x)}var g=l.map((function(e){return se(e.getPcvAsArray())})),p=[];p.push(g);for(var A=[],O=p[0],m=1;m<7;m++){for(var v=[],y=0;y<O.length;y++)v.push({x:O[y][m].re,y:O[y][m].im});A.push(v)}return{tracesData:A,resolution:n}}function ue(e,t,a){for(var n=[],r=t,c=function(t){var a=[];e.forEach((function(e){var n=e.time,c=e.duration;if(function(e,t,a,n){if(e>a&&e<a+n||e+t>a&&e+t<a+n||e<=a&&e+t>=a+n)return!0;return!1}(n,c,t,r)){var s={pitch:e.pitch};s.duration=n<t?n+c<t+r?n+c-t:r:n+c<=t+r?c:t+r-n,a.push(s)}})),n.push(a)},s=0;s<a;s+=t)c(s);return n}function he(e,t){for(var a=[],n=0;n<2*Math.PI*t;n+=.01){var r=10*Math.cos(e/t*n),c=r*Math.cos(n),s=r*Math.sin(n);a.push([c,s])}return a}var fe=a(428),be=a(417),je=a(448),de=a(443),xe=a(431),ge=a.p+"static/media/whole.69e31bd8.svg",pe=a.p+"static/media/half.7d756528.svg",Ae=a.p+"static/media/quarter.a35808dc.svg",Oe=a.p+"static/media/eighth.347a1769.svg",me=a.p+"static/media/sixteenth.91907e68.svg";var ve=function(e){var t=e.resolutionMode,a=e.setResolutionMode,r=e.retriggerAnalysis,c=Object(n.useState)(!1),s=Object(l.a)(c,2),i=s[0],o=s[1],h=Object(n.useRef)(null);return Object(v.jsx)(f.a,{children:Object(v.jsx)(je.a,{component:"fieldset",children:Object(v.jsxs)(be.a,{row:!0,defaultValue:"quarter",onChange:function(e){var n=Object(u.a)({},t);switch(n.seconds=parseFloat(h.current.value),e.target.value){case"sixteenth":n.noteResolutionValue=.25,n.useSeconds=!1;break;case"eighth":n.noteResolutionValue=.5,n.useSeconds=!1;break;case"quarter":n.noteResolutionValue=1,n.useSeconds=!1;break;case"half":n.noteResolutionValue=2,n.useSeconds=!1;break;case"whole":n.noteResolutionValue=4,n.useSeconds=!1;break;case"seconds":n.useSeconds=!0}a(n)},"aria-label":"resolution",name:"row-radio-buttons-group",sx:{display:"flex",justifyContent:"space-between"},children:[Object(v.jsx)(de.a,{value:"sixteenth",control:Object(v.jsx)(fe.a,{size:"small"}),label:Object(v.jsx)("img",{style:{width:10,height:10,transform:"scale(3, 3)"},src:me})}),Object(v.jsx)(de.a,{value:"eighth",control:Object(v.jsx)(fe.a,{size:"small"}),label:Object(v.jsx)("img",{style:{width:10,height:10,transform:"scale(3, 3) translate(0, 0)"},src:Oe})}),Object(v.jsx)(de.a,{value:"quarter",control:Object(v.jsx)(fe.a,{size:"small"}),label:Object(v.jsx)("img",{style:{width:10,height:10,marginTop:8,transform:"scale(1, 3)"},src:Ae})}),Object(v.jsx)(de.a,{value:"half",control:Object(v.jsx)(fe.a,{size:"small"}),label:Object(v.jsx)("img",{style:{width:10,height:10,marginTop:8,transform:"scale(3.7, 3.2) "},src:pe})}),Object(v.jsx)(de.a,{value:"whole",control:Object(v.jsx)(fe.a,{size:"small"}),label:Object(v.jsx)("img",{style:{width:10,height:10,marginTop:0,transform:"scale(1.5, 1)"},src:ge})}),Object(v.jsx)(de.a,{value:"seconds",control:Object(v.jsx)(fe.a,{size:"small"}),label:Object(v.jsx)(xe.a,{sx:{minHeight:"4.4rem",maxWidth:"5rem"},error:i,helperText:i&&"Invalid input",label:"in seconds",id:"standard-size-small",defaultValue:"1.5",size:"small",variant:"standard",onChange:function(){var e=Object(u.a)({},t);e.seconds=parseFloat(h.current.value),isNaN(e.seconds)?o(!0):(a(e),o(!1))},inputRef:h})}),Object(v.jsx)(d.a,{variant:"contained",onClick:r,sx:{width:"22%",height:"15%",marginTop:2},children:"Change"})]})})})},ye=a(436),we=a(438),Ce=Object(p.a)("li")((function(e){return{margin:e.theme.spacing(.5)}}));function De(e){var t=e.userPcvs,a=e.setUserPcvs,n=e.rosesMat;return Object(v.jsx)(we.a,{sx:{display:"flex",justifyContent:"center",flexWrap:"wrap",listStyle:"none",p:"3px",overflow:"auto",height:"100%",width:"100%"},component:"ul",children:t.map((function(e,r){return Object(v.jsx)(Ce,{children:Object(v.jsx)(ye.a,{variant:e.isDisabled?"outlined":"filled",icon:Object(v.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:Object(v.jsx)("g",{children:Object(v.jsx)("polyline",{transform:"translate(".concat(12,",",12,")"),fill:"none",stroke:"black",strokeWidth:"1px",points:e.rosePoints})})}),label:e.label,onDelete:(c=e,function(){n[c.d-1][c.n-1].used=!1,a((function(e){return e.filter((function(e){return e.label!==c.label}))}))}),onClick:function(){e.isDisabled=!e.isDisabled,a(Object(o.a)(t))}})},"".concat(r));var c}))})}var ke=a(54),Pe=a(177),Se=a(453),Fe=["to"];var Be={overrides:{h1:{component:j.a,props:{gutterBottom:!0,variant:"h4",component:"h1"}},h2:{component:j.a,props:{gutterBottom:!0,variant:"h6",component:"h2"}},h3:{component:j.a,props:{gutterBottom:!0,variant:"subtitle1"}},h4:{component:j.a,props:{gutterBottom:!0,variant:"caption",paragraph:!0}},p:{component:j.a,props:{paragraph:!0}},a:{component:function(e){e.to;var t=Object(ke.a)(e,Fe),a=n.useRef(null);return isNaN(parseInt(t.href[1]))?Object(v.jsx)(Se.a,Object(u.a)({},t)):Object(v.jsx)(Se.a,Object(u.a)(Object(u.a)({ref:a,onClick:function(e){e.preventDefault(),a.current.scrollIntoView({behavior:"smooth"})}},t),{},{id:"reference".concat(t.href[1]),href:"/#".concat(t.href[1])}))}},li:{component:function(e){return Object(v.jsx)(f.a,Object(u.a)({component:"li",sx:{mt:1,typography:"body1"}},e))}}}};function Me(e){return Object(v.jsx)(Pe.a,Object(u.a)({options:Be},e))}var Ee="data:image/png;base64,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";var Ie=function(){var e=100;return Object(v.jsxs)(f.a,{sx:{marginTop:1,textAlign:"center"},children:[Object(v.jsxs)(Q.a,{sx:{justifyContent:"center"},direction:"row",children:[Object(v.jsx)("img",{width:e,height:e,src:Ee}),Object(v.jsx)("img",{width:e,height:e,src:Ee}),Object(v.jsx)("img",{width:e,height:e,src:Ee})]}),Object(v.jsx)(j.a,{children:"Project \u201cEnabling interactive music visualization for a wider community\u201d"}),Object(v.jsxs)(Q.a,{sx:{justifyContent:"center"},direction:"row",children:[Object(v.jsx)(j.a,{sx:{marginRight:1},children:"Project lead: Fabian C. Moss; Daniel Harasim"}),Object(v.jsx)("span",{children:"\u2013"}),Object(v.jsx)(j.a,{sx:{marginLeft:1},children:"Developer: Giovanni Affatato"})]}),Object(v.jsxs)(Q.a,{sx:{justifyContent:"center"},direction:"row",children:[Object(v.jsx)(Se.a,{sx:{marginRight:1},href:"https://github.com/DCMLab/MIDFT",children:"GitHub repo"}),Object(v.jsx)("span",{children:"\u2022"}),Object(v.jsx)(Se.a,{sx:{marginLeft:1,marginRight:1},href:"https://www.epfl.ch/labs/dcml/",children:"DCML page"}),Object(v.jsx)("span",{children:"\u2022"}),Object(v.jsx)(j.a,{sx:{marginLeft:1},href:"",children:"Copyright"})]})]})},We=a.p+"static/media/HomeMarkdown.4682608b.md";function Te(e){var t=e.setOpen,a=e.setInAnalysisPage,r=Object(n.useState)(""),c=Object(l.a)(r,2),s=c[0],i=c[1];return Object(n.useEffect)((function(){a(!1),t(!1),fetch(We).then((function(e){return e.text()})).then((function(e){i(e)}))}),[]),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(we.a,{sx:{margin:"auto",maxWidth:"1200px"},children:Object(v.jsx)(f.a,{sx:{padding:3},children:Object(v.jsx)(Me,{children:s})})}),Object(v.jsx)(Ie,{})]})}var Ge=a.p+"static/media/TheoryMarkdown.26c0a4ee.md";function Re(e){var t=e.setOpen,a=e.setInAnalysisPage,r=Object(n.useState)(""),c=Object(l.a)(r,2),s=c[0],i=c[1];return Object(n.useEffect)((function(){a(!1),t(!1),fetch(Ge).then((function(e){return e.text()})).then((function(e){i(e)}))}),[]),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(we.a,{sx:{margin:"auto",maxWidth:"1200px"},children:Object(v.jsx)(f.a,{sx:{padding:3},children:Object(v.jsx)(Me,{children:s})})}),Object(v.jsx)(Ie,{})]})}var Le=Math.sin(Math.PI/3),ze=function(e){var t,a=e.wsNumber,r=e.wavescapeMatrix,c=e.currentWavescapeSubdiv,s=e.wavescapeWidth,i=Object(n.useRef)(null),o=Object(n.useState)([]),u=Object(l.a)(o,2),h=u[0],f=u[1],b=s-10,j=s;return Object(n.useEffect)((function(){b=s,j=s}),[s]),Object(n.useEffect)((function(){var e,a=i.current,n=a.getContext("2d"),c=[10,10],s=[a.width-c[0],a.height-c[1]];r&&(e=r[0].length,n.clearRect(0,0,n.canvas.width,n.canvas.height),t=function(e,t,a,n,r){for(var c=e/a,s=[],i=0;i<a+1;i++){for(var o=[],l=0;l<a+1;l++)i<=l&&o.push({x:(l-i)*c+i*c/2+n,y:i*c+r});s.push(o)}return s}(s[0],0,e,c[0],c[1]),f(t),function(e,t,a){for(var n=0;n<e.length-1;n++)for(var r=0;r<e[n].length-1;r++)0===n?(t.beginPath(),t.moveTo(e[n][r].x,e[n][r].y),t.lineTo(e[n][r+1].x,e[n][r+1].y),t.lineTo(e[n+1][r].x,e[n+1][r].y),t.fillStyle=a[n][r],t.fill()):(t.beginPath(),t.moveTo(e[n][r].x,e[n][r].y),t.lineTo(e[n-1][r+1].x,e[n-1][r+1].y),t.lineTo(e[n][r+1].x,e[n][r+1].y),t.lineTo(e[n+1][r].x,e[n+1][r].y),t.fillStyle=a[n][r],t.fill())}(t,n,r))}),[r,b,j]),Object(v.jsxs)("svg",{id:"wavescape".concat(a),width:b+10,height:j,xmlns:"http://www.w3.org/2000/svg",children:[Object(v.jsxs)("g",{transform:"translate(".concat(.06*b,",").concat(.1*b,")"),children:[Object(v.jsx)("circle",{cx:"5%",cy:"1%",r:"".concat(b/100*2.8,"px"),fill:"black"}),Object(v.jsx)("text",{fontSize:"".concat(b/100*5.2,"px"),textAnchor:"middle",x:"5%",y:"2.8%",fill:"white",children:a})]}),Object(v.jsxs)("g",{transform:"scale(".concat(1,", ",-Le,") translate(",0,",").concat(-j,")"),children:[Object(v.jsx)("foreignObject",{x:0,y:0,width:b,height:j,children:Object(v.jsx)("canvas",{width:b,height:j,ref:i})}),h.length>0?h[0].map((function(e,t){return Object(v.jsx)("line",{x1:e.x,x2:e.x,y1:e.y-3,y2:e.y+3,stroke:"grey",strokeWidth:"1px"},"tick".concat(t))})):null,h.length>0?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("line",{x1:h[0][0].x,x2:h[0][h[0].length-1].x,y1:h[0][0].y,y2:h[0][h[0].length-1].y,stroke:"grey",strokeWidth:"2px"}),Object(v.jsx)("line",{x1:h[0][h[0].length-1].x,x2:h[h.length-1][0].x,y1:h[0][h[0].length-1].y,y2:h[h.length-1][0].y,stroke:"grey",strokeWidth:"1px"}),Object(v.jsx)("line",{x1:h[0][0].x,x2:h[h.length-1][0].x,y1:h[0][0].y,y2:h[h.length-1][0].y,stroke:"grey",strokeWidth:"1px"}),Object(v.jsx)("circle",{cx:(h[0][c].x+h[0][c+1].x)/2,cy:(h[0][c].y+h[0][c+1].y)/2,r:.01*b,fill:"white"}),Object(v.jsx)("circle",{cx:(h[0][c].x+h[0][c+1].x)/2,cy:(h[0][c].y+h[0][c+1].y)/2,r:.01*b,stroke:"black",strokeWidth:1,fill:"transparent"})]}):null]})]})};var Ne=function(e){var t=e.wavescapesData,a=e.currentWavescapeSubdiv,n=e.elemsWidth;return Object(v.jsx)(f.a,{sx:{display:"flex",flexWrap:"wrap",justifyContent:"space-around"},children:t.length>0?t.map((function(e,t){return Object(v.jsx)(ze,{wsNumber:t+1,wavescapeMatrix:e,currentWavescapeSubdiv:a,wavescapeWidth:n},"w.".concat(t))})):Object(v.jsx)(j.a,{color:"error",children:"No midi file uploaded"})})},Qe=a(424),Je=null;var He=function(e){var t,a=e.coeffNumber,r=e.protoDataCoeff,c=(e.fullTrace,e.traceDataCoeff),s=e.userPcvsCoeff,o=e.currentSubdiv,u=e.performanceCoeff,h=e.targetCircleWidth,b=e.showMagAndPhase,d=e.showFullTrace,x=Object(n.useRef)(null),g=Object(n.useState)({mu:0,phi:0}),p=Object(l.a)(g,2),A=p[0],O=p[1],m=445,y=m,w=45,C=177.5,D=.01;function k(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=180*Math.atan2(t,e)/Math.PI,r=Math.sqrt(e*e+t*t);return a&&(r/=C),n=Math.round(n+Number.EPSILON),{mu:r=Math.round(100*(r+Number.EPSILON))/100,phi:n}}function P(){var e=x.current.getContext("2d");e.fillStyle="rgba(0, 0, 0, 0.1)",c.forEach((function(t){e.beginPath(),e.arc(t.x*C,-t.y*C,2.225,0,2*Math.PI,!0),e.fill()}))}return Object(n.useEffect)((function(){if(c&&c[o]){var e=c[o].x,t=c[o].y;O(k(e,t))}}),[o,c]),Object(n.useEffect)((function(){var e=x.current,t=e.getContext("2d"),a=Math.floor(C*devicePixelRatio),n=t.createImageData(2*a,2*a),r=n.data;if(e.width=m*devicePixelRatio,e.height=y*devicePixelRatio,t.scale(devicePixelRatio,devicePixelRatio),e.style.width="445px",e.style.height="445px",!Je){for(var s=-a;s<a;s++)for(var i=-a;i<a;i++){var o=Math.sqrt(s*s+i*i);if(!(o>a)){var l=4*(s+a+(i+a)*(2*a)),u=W(s,i,o/a);r[l]=u.r,r[l+1]=u.g,r[l+2]=u.b,r[l+3]=u.a}}Je=n}t.putImageData(Je,0,0),c&&d&&(t.save(),t.translate(177.5,177.5),P(),t.restore())}),[m,y,C,c,d]),Object(n.useEffect)((function(){x.current.getContext("2d").getImageData(0,0,1,1)}),[]),Object(n.useEffect)((function(){if(c){var e=x.current.getContext("2d");e.save(),e.translate(177.5,177.5),P(),e.restore()}}),[c]),Object(v.jsx)(f.a,{sx:{marginBottom:2},children:Object(v.jsxs)("svg",{width:h,height:h,viewBox:"0 0 ".concat(m," ").concat(y),xmlns:"http://www.w3.org/2000/svg",children:[Object(v.jsxs)("g",{transform:"translate(32,8)",children:[Object(v.jsx)("circle",{cx:"12",cy:"12",r:"13",fill:"black"}),Object(v.jsx)("text",{fontSize:"24",textAnchor:"middle",x:"12",y:"20",fill:"white",children:a})]}),Object(v.jsx)("g",{transform:"translate(".concat(125,",0)"),children:b?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("text",{x:"120",y:"23",style:{fontSize:"24px"},children:"\u03c6: ".concat(A.phi,"\xb0")}),Object(v.jsx)("text",{x:"34",y:"24",style:{fontSize:"24px"},children:"\u03bc: ".concat(A.mu)})]}):null}),Object(v.jsxs)("g",{transform:"translate(0,".concat(15,")"),children:[Object(v.jsx)("foreignObject",{x:w,y:w,width:m,height:y,children:Object(v.jsx)("canvas",{id:"circle".concat(a),style:{zIndex:"-1"},width:m,height:y,ref:x})}),Object(v.jsxs)("g",{transform:"translate(".concat(222.5,",").concat(222.5,")"),children:[Object(v.jsx)("path",{fill:"azure",d:B.a().innerRadius(176.5).outerRadius(180.5).startAngle(0).endAngle(2*Math.PI)()}),r?r.map((function(e,t){return function(e,t){var a=B.a().innerRadius(4.45).outerRadius(6.675).startAngle(0).endAngle(2*Math.PI),n="",r="",c=!1;if(e.label.includes("_")||e.label.includes("^"))for(var s=0;s<e.label.length;s++)"_"===e.label[s]&&(n=e.label.slice(0,s),r=e.label.slice(s+1,e.label.length),c=!0),"^"===e.label[s]&&(n=e.label.slice(0,s),r=e.label.slice(s+1,e.label.length));else n=e.label;var i=18*Math.sign(e.x),o=18*-Math.sign(e.y)+7;return"\u266f"===n&&(o-=3),"WT"===n&&"1"===r&&(i*=1.2),"WT"===n&&"0"===r&&(i*=1.4),"C"===n&&"o7"===r&&(i*=1.2),"O"===n&&"1,2"===r&&(o*=1.1),"C\u266f"===n&&"o7"===r&&(i*=1.1,o*=1.1),"D"===n&&"o7"===r&&(i*=.7,o*=.7),"H"===n&&"2,3"===r&&(i*=1.2,o*=1.2),"H"===n&&"1,2"===r&&(i*=.7,o*=.7),"\u03a9"===n&&(i=15,o=5),Object(v.jsxs)("g",{transform:"translate(".concat(e.x*C,",").concat(-e.y*C,")"),children:[Object(v.jsx)("path",{fill:"grey",d:a()},t),Object(v.jsxs)("text",{textAnchor:"middle",dx:i,dy:o,fontSize:"20px",children:[n,c?Object(v.jsx)("tspan",{fontSize:15,baselineShift:"sub",children:r}):Object(v.jsx)("tspan",{fontSize:15,baselineShift:"super",children:r})]})]},"p.".concat(t))}(e,t)})):null,0===u.x&&0===u.y?null:(t=u,Object(v.jsxs)("g",{transform:"translate(".concat(t.x*C,",").concat(-t.y*C,")"),children:[Object(v.jsx)("line",{x1:"0",x2:"0",y1:"7",y2:"-7",stroke:"black",strokeWidth:"1.5"}),Object(v.jsx)("line",{x1:"7",x2:"-7",y1:"0",y2:"0",stroke:"black",strokeWidth:"1.5"})]})),s?s.map((function(e,t){if(!e.isDisabled)return function(e,t,a,n,r,c){var s,o=k(a,n,!0),l=40;return Object(v.jsx)(Qe.a,{placement:"top",arrow:!0,title:Object(v.jsxs)(Q.a,{direction:"row",justifyContent:"center",alignItems:"center",spacing:2,children:[Object(v.jsxs)("svg",{width:l,height:l,viewBox:"0 0 ".concat(l," ").concat(l),children:[Object(v.jsx)("circle",{cx:20,cy:20,r:20,strokeWidth:"1",fill:"#FFF",fillOpacity:1}),Object(v.jsx)("polyline",{transform:"translate(".concat(20,",").concat(20,") scale(",1.8,")"),fill:"none",stroke:"black",strokeWidth:"1px",points:t})]}),Object(v.jsxs)(Q.a,{children:[Object(v.jsx)(j.a,{children:e}),Object(v.jsx)(j.a,{children:"\u03bc: ".concat(o.mu," \u03c6: ").concat(-o.phi,"\xb0")})]})]}),children:Object(v.jsxs)("g",{children:[Object(v.jsx)("polyline",(s={transform:"translate(".concat(a,",").concat(n,") scale(").concat(r,")"),fill:"none",stroke:"black",strokeWidth:"1px"},Object(i.a)(s,"fill","#FFF"),Object(i.a)(s,"fillOpacity",0),Object(i.a)(s,"points",t),s)),Object(v.jsx)("polyline",{transform:"translate(".concat(a,",").concat(n,") scale(").concat(r,")"),fill:"none",stroke:"black",strokeWidth:"1px",points:t})]})},"rtt.".concat(c))}(e.label,e.rosePoints,e.x*C,-e.y*C,.7,t)})):null,c?function(e){var t=B.a().innerRadius(0).outerRadius(e*m/2).startAngle(0).endAngle(2*Math.PI),a=B.a().innerRadius(e*m/2).outerRadius((e+.005)*m/2).startAngle(0).endAngle(2*Math.PI),n=[];n.push(1),n.push(.5);for(var r=2;r<7;r++)n.push(Math.round(100*(n[r-1]-.1))/100);return(o<7?c.slice(0,o+1):c.slice(o-7+1,o+1)).reverse().map((function(e,r){return Object(v.jsxs)("g",{children:[Object(v.jsx)("path",{transform:"translate(".concat(e.x*C,",").concat(-e.y*C,")"),fill:"white",fillOpacity:n[r],d:t()},r),Object(v.jsx)("path",{transform:"translate(".concat(e.x*C,",").concat(-e.y*C,")"),fill:"black",fillOpacity:n[r],d:a()},"t.".concat(r))]},"g.".concat(r))}))}(D):null]})]})]})})},Ve=[[{label:"\u03a9",x:0,y:0},{label:"C",x:1,y:0},{label:"C\u266f",x:.866,y:-.5},{label:"D",x:.5,y:-.866},{label:"E\u266d",x:0,y:-1},{label:"E",x:-.5,y:-.866},{label:"F",x:-.866,y:-.5},{label:"F\u266f",x:-1,y:0},{label:"G",x:-.866,y:.5},{label:"A\u266d",x:-.5,y:.866},{label:"A",x:0,y:1},{label:"B\u266d",x:.5,y:.866},{label:"B",x:.866,y:.5}],[{label:"\u03a9",x:0,y:0},{label:"T_0",x:1,y:0},{label:"T_1",x:.5,y:-.866},{label:"T_2",x:-.5,y:-.866},{label:"T_3",x:-1,y:0},{label:"T_4",x:-.5,y:.866},{label:"T_5",x:.5,y:.866}],[{label:"\u03a9",x:0,y:0},{label:"C+",x:1,y:0},{label:"C\u266f+",x:0,y:-1},{label:"D+",x:-1,y:0},{label:"D\u266f+",x:0,y:1},{label:"H_0,3",x:.5,y:.5},{label:"H_0,1",x:.5,y:-.5},{label:"H_1,2",x:-.5,y:-.5},{label:"H_2,3",x:-.5,y:.5}],[{label:"\u03a9",x:0,y:0},{label:"C^o7",x:1,y:0},{label:"C\u266f^o7",x:-.5,y:-.866},{label:"D^o7",x:-.5,y:.866},{label:"O_0,2",x:.25,y:.433},{label:"O_0,1",x:.25,y:-.433},{label:"O_1,2",x:-.5,y:0}],[{label:"\u03a9",x:0,y:0},{label:"C",x:1,y:0},{label:"F",x:.866,y:-.5},{label:"B\u266d",x:.5,y:-.866},{label:"E\u266d",x:0,y:-1},{label:"A\u266d",x:-.5,y:-.866},{label:"C\u266f",x:-.866,y:-.5},{label:"F\u266f",x:-1,y:0},{label:"B",x:-.866,y:.5},{label:"E",x:-.5,y:.866},{label:"A",x:0,y:1},{label:"D",x:.5,y:.866},{label:"G",x:.866,y:.5},{label:"\u266e",x:.267,y:.462},{label:"5\u266d",x:0,y:-.533},{label:"2\u266f",x:-.267,y:.462},{label:"3\u266d",x:.462,y:-.267},{label:"4\u266f",x:-.533,y:0},{label:"\u266d",x:.462,y:.267},{label:"6\u266f",x:-.267,y:-.462},{label:"\u266f",x:0,y:.533},{label:"4\u266d",x:.267,y:-.462},{label:"3\u266f",x:-.462,y:.267},{label:"2\u266d",x:.533,y:0},{label:"5\u266f",x:-.462,y:-.267}],[{label:"\u03a9",x:0,y:0},{label:"WT_0",x:1,y:0},{label:"WT_1",x:-1,y:0}]];var Ye=function(e){var t=e.fullTraces,a=e.coeffTracesData,r=e.showPrototypes,c=e.showMagAndPhase,s=e.userPcvs,i=e.currentSubdiv,o=e.midiDevNotesDftCoeffs,u=e.elemsWidth,h=e.showFullTrace,b=Object(n.useState)(Ve),j=Object(l.a)(b,2),d=j[0],x=j[1],g=Object(n.useState)([]),p=Object(l.a)(g,2),A=p[0],O=p[1];return Object(n.useEffect)((function(){x(r?Ve:[])}),[r]),Object(n.useEffect)((function(){for(var e=[],t=1;t<7;t++){for(var a=[],n=0;n<s.length;n++)a.push({x:s[n].coeffs[t].re,y:s[n].coeffs[t].im,rosePoints:s[n].rosePoints,isDisabled:s[n].isDisabled,label:s[n].label});e.push(a)}O(e)}),[s]),Object(v.jsx)(f.a,{sx:{display:"flex",flexWrap:"wrap",justifyContent:"space-around"},children:[1,2,3,4,5,6].map((function(e){return Object(v.jsx)(He,{coeffNumber:e,protoDataCoeff:d[e-1],fullTrace:t[e-1],traceDataCoeff:a[e-1],userPcvsCoeff:A[e-1],currentSubdiv:i,performanceCoeff:o[e],targetCircleWidth:u,showMagAndPhase:c,showFullTrace:h},"w.".concat(e))}))})},Ke=a(374),Ze=a(444),qe=a(432),Ue=a(433),Xe=a(425),_e=a(430),$e=a(449),et=a(450),tt=a(141),at=a.n(tt),nt=Object(p.a)(h.a,{shouldForwardProp:function(e){return"open"!==e}})((function(e){var t=e.theme,a=e.open;return Object(u.a)({transition:t.transitions.create(["margin","width"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen})},a&&{width:"calc(100% - ".concat(400,"px)"),marginLeft:"".concat(400,"px"),transition:t.transitions.create(["margin","width"],{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.enteringScreen})})}));var rt,ct,st=function(e){var t=e.fileName,a=e.setInAnalysisPage,r=e.open,c=e.setOpen,s=e.wavescapesData,i=e.fullTraces,o=e.coeffTracesData,u=e.currentSubdiv,h=e.currentWavescapeSubdiv,d=e.userPcvs,x=Object(n.useState)(!0),g=Object(l.a)(x,2),p=g[0],A=g[1],O=Object(n.useState)(!0),m=Object(l.a)(O,2),y=m[0],w=m[1],C=Object(n.useState)(!0),D=Object(l.a)(C,2),k=D[0],P=D[1],S=Object(n.useState)(se([0,0,0,0,0,0,0,0,0,0,0,0]).map((function(e){return{x:e.re,y:e.im}}))),F=Object(l.a)(S,2),B=F[0],M=F[1],E=Object(n.useRef)(null),I=Object(n.useState)(100),W=Object(l.a)(I,2),T=W[0],G=W[1],R=Object(n.useState)(6),L=Object(l.a)(R,2),z=L[0],Q=L[1],J=Object(n.useState)(440),H=Object(l.a)(J,2),V=H[0],Y=H[1];function K(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=20;E.current&&Y((E.current.clientWidth+e)/z-t)}function Z(){K(0)}return Object(n.useEffect)((function(){a(!0),c(!0),K(),window.addEventListener("resize",Z)}),[]),Object(n.useEffect)((function(){P(!0)}),[o]),Object(n.useEffect)((function(){K(),window.addEventListener("resize",Z)}),[z]),Object(n.useEffect)((function(){K(r?-400:400)}),[r]),Object(n.useEffect)((function(){K()}),[T]),Object(n.useEffect)((function(){var e=[],t=new N.c({urls:{A0:"A0.mp3",C1:"C1.mp3","D#1":"Ds1.mp3","F#1":"Fs1.mp3",A1:"A1.mp3",C2:"C2.mp3","D#2":"Ds2.mp3","F#2":"Fs2.mp3",A2:"A2.mp3",C3:"C3.mp3","D#3":"Ds3.mp3","F#3":"Fs3.mp3",A3:"A3.mp3",C4:"C4.mp3","D#4":"Ds4.mp3","F#4":"Fs4.mp3",A4:"A4.mp3",C5:"C5.mp3","D#5":"Ds5.mp3","F#5":"Fs5.mp3",A5:"A5.mp3",C6:"C6.mp3","D#6":"Ds6.mp3","F#6":"Fs6.mp3",A6:"A6.mp3",C7:"C7.mp3","D#7":"Ds7.mp3","F#7":"Fs7.mp3",A7:"A7.mp3",C8:"C8.mp3"},release:1,baseUrl:"https://tonejs.github.io/audio/salamander/"}).toDestination();function a(a){var n=a.data[0];if(144===n||128===n){var r=N.a(a.data[1],"midi").toNote();if(128!==n||e.includes(r)){var c=Math.round(.05*a.data[2]);switch(n){case 144:c>0?(t.triggerAttack(r,N.f(),c),e.push(r)):(t.triggerRelease(r,N.f()),e=e.filter((function(e){return e!==r})));break;case 128:t.triggerRelease(r,N.f()),e=e.filter((function(e){return e!==r}))}!function(e){var t=[0,0,0,0,0,0,0,0,0,0,0,0];e.forEach((function(e){switch(e.includes("#")?e.slice(0,2):e.slice(0,1)){case"C":t[0]+=1;break;case"C#":t[1]+=1;break;case"D":t[2]+=1;break;case"D#":t[3]+=1;break;case"E":t[4]+=1;break;case"F":t[5]+=1;break;case"F#":t[6]+=1;break;case"G":t[7]+=1;break;case"G#":t[8]+=1;break;case"A":t[9]+=1;break;case"A#":t[10]+=1;break;case"B":t[11]+=1}}));var a=se(t);a=a.map((function(e){return{x:e.re,y:e.im}})),M(a)}(e)}}}function n(e){console.log("Name: ".concat(e.port.name,", Brand: ").concat(e.port.manufacturer,", State: ").concat(e.port.state,", Type: ").concat(e.port.type))}t.volume.value=-30,navigator.requestMIDIAccess&&navigator.requestMIDIAccess().then((function(e){e.onstatechange=n,e.inputs.forEach((function(e){e.onmidimessage=a}))}),(function(){console.log("Could not connect MIDI")}))}),[]),Object(v.jsxs)(f.a,{children:[Object(v.jsxs)(f.a,{sx:{padding:0,margin:"auto",marginBottom:"70px",width:"".concat(T,"%")},children:[Object(v.jsxs)(_e.a,{defaultExpanded:!0,children:[Object(v.jsx)($e.a,{expandIcon:Object(v.jsx)(at.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(v.jsx)(j.a,{variant:"h6",children:"Wavescapes"})}),Object(v.jsx)(et.a,{ref:E,sx:{padding:0},children:Object(v.jsx)(Ne,{wavescapesData:s,currentWavescapeSubdiv:h,elemsWidth:V})})]}),Object(v.jsxs)(_e.a,{defaultExpanded:!0,children:[Object(v.jsx)($e.a,{expandIcon:Object(v.jsx)(at.a,{}),"aria-controls":"panel2a-content",id:"panel2a-header",children:Object(v.jsx)(j.a,{variant:"h6",children:"Fourier Coefficient Spaces"})}),Object(v.jsx)(et.a,{sx:{padding:0},children:Object(v.jsx)(Ye,{fullTraces:i,coeffTracesData:o,currentSubdiv:u,showPrototypes:p,showMagAndPhase:y,showFullTrace:k,userPcvs:d,midiDevNotesDftCoeffs:B,elemsWidth:V})})]})]}),Object(v.jsx)(nt,{position:"fixed",open:r,color:"secondary",sx:{top:"auto",bottom:0,maxHeight:"74px"},children:Object(v.jsxs)(b.a,{children:[Object(v.jsx)(te,{fileName:t,currentWavescapeSubdiv:h}),Object(v.jsx)(f.a,{sx:{display:"flex",alignItems:"center",margin:"2% 5%",maxWidth:"100px",justifyContent:"space-evenly"},children:Object(v.jsxs)(Ke.a,{children:[Object(v.jsx)(de.a,{control:Object(v.jsx)(Ze.a,{onChange:function(){P(!k)},checked:k,size:"small"}),label:Object(v.jsx)(j.a,{noWrap:!0,children:"Show full trace"})}),Object(v.jsx)(de.a,{control:Object(v.jsx)(Ze.a,{onChange:function(){A(!p)},checked:p,size:"small"}),label:Object(v.jsx)(j.a,{noWrap:!0,children:"Show Prototypes"})}),Object(v.jsx)(de.a,{control:Object(v.jsx)(Ze.a,{onChange:function(){w(!y)},checked:y,size:"small"}),label:Object(v.jsx)(j.a,{noWrap:!0,children:"Show \u03bc and \u03c6"})})]})}),Object(v.jsxs)(f.a,{sx:{minWidth:"20%",padding:"1% 3% 1% 2%",marginTop:1},children:[Object(v.jsx)(j.a,{children:"Plots size"}),Object(v.jsx)(q.a,{min:20,max:100,value:T,defaultValue:100,"aria-label":"Plots size",valueLabelDisplay:"auto",onChange:function(e,t){G(t)},marks:[{value:20,label:"20%"},{value:50,label:"50%"},{value:100,label:"100%"}]})]}),Object(v.jsx)(f.a,{sx:{minWidth:120},children:Object(v.jsxs)(je.a,{size:"small",variant:"standard",fullWidth:!0,children:[Object(v.jsx)(qe.a,{children:"Layout"}),Object(v.jsxs)(Xe.a,{value:z,label:"Layout",onChange:function(e){G(100),Q(e.target.value)},children:[Object(v.jsx)(Ue.a,{value:6,children:"1x6"}),Object(v.jsx)(Ue.a,{value:3,children:"2x3"}),Object(v.jsx)(Ue.a,{value:2,children:"3x2"}),Object(v.jsx)(Ue.a,{value:1,children:"6x1"})]})]})})]})})]})},it=a(29),ot=a(435),lt=a(179),ut=a.n(lt),ht=a(422),ft=80,bt=Object(p.a)("main",{shouldForwardProp:function(e){return"open"!==e}})((function(e){var t=e.theme,a=e.open;return Object(u.a)({flexGrow:1,padding:t.spacing(3),backgroundColor:"#e0e0e0",transition:t.transitions.create("margin",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),marginLeft:"-".concat(400,"px")},a&&{transition:t.transitions.create("margin",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.enteringScreen}),marginLeft:0,backgroundColor:"#e0e0e0"})})),jt=Object(p.a)("div")((function(e){var t=e.theme;return Object(u.a)(Object(u.a)({display:"flex",alignItems:"center",padding:t.spacing(0,1)},t.mixins.toolbar),{},{justifyContent:"space-between"})}));var dt=function(){var e,t=Object(it.a)(),a=Object(n.useState)(!1),r=Object(l.a)(a,2),c=r[0],s=r[1],u=Object(n.useState)(""),h=Object(l.a)(u,2),b=h[0],x=h[1],p=Object(n.useState)([]),A=Object(l.a)(p,2),y=A[0],D=A[1],S=Object(n.useState)([]),B=Object(l.a)(S,2),M=B[0],E=B[1],I=Object(n.useState)([]),W=Object(l.a)(I,2),G=W[0],R=W[1],N=Object(n.useState)(0),J=Object(l.a)(N,2),H=J[0],V=J[1],Y=Object(n.useState)(1),K=Object(l.a)(Y,2),Z=K[0],U=K[1],X=Object(n.useState)(!1),_=Object(l.a)(X,2),ee=_[0],te=_[1],ae=Object(n.useState)("1"),ne=Object(l.a)(ae,2),re=ne[0],fe=ne[1],be=Object(n.useState)({noteResolutionValue:1,seconds:1.5,useSeconds:!1}),je=Object(l.a)(be,2),de=je[0],ge=je[1],pe=Object(n.useState)(10),Ae=Object(l.a)(pe,2),Oe=Ae[0],me=Ae[1],ye=Object(n.useState)(1),Ce=Object(l.a)(ye,2),ke=Ce[0],Pe=Ce[1],Se=Object(n.useState)([]),Fe=Object(l.a)(Se,2),Be=Fe[0],Me=Fe[1],Ee=Object(n.useRef)(null),Ie=Object(n.useState)(!1),We=Object(l.a)(Ie,2),Ge=We[0],Le=We[1],ze=Object(n.useState)(!1),Ne=Object(l.a)(ze,2),Qe=Ne[0],Je=Ne[1],He=Object(n.useState)([]),Ve=Object(l.a)(He,2),Ye=Ve[0],Ke=Ve[1];function Ze(e){var t,a=[];try{t=function(e){for(var t=[],a=!1,n=!1,r=0;r<e.length;r++)if("{"!==e[r]&&"("!==e[r]||(a=!0,"{"===e[r]&&(n=!0)),a){for(var c=[],s=r+1;"}"!==e[s]&&")"!==e[s];s++){if(","!==e[s]&&"."!==e[s]&&" "!==e[s]&&isNaN(parseFloat(e[s])))throw new Error("Found NaN");" "!==e[s]&&c.push(e[s])}if(""===(c=c.join("")))throw new Error("Empty input");for(var i=[],o=0,l=0;l<c.length;l++){if(","===c[l]){var u=c.slice(l-o,l);if(0===u.length)throw new Error("Two consecutive comas");i.push(+u),o=-1}o++}var h=c.slice(c.length-o,c.length);if(0===h.length)throw new Error("Missing last number");if(i.push(+h),n){for(var f=[0,0,0,0,0,0,0,0,0,0,0,0],b=0;b<i.length;b++){if(i[b]<0||i[b]>=12)throw new Error("Set notation: out of range");f[i[b]]+=1}t.push(f)}else{if(12!==i.length)throw new Error("Vectorial notation: missing elements");t.push(i)}a=!1,n=!1,r+=o}if(0===t.length)throw new Error("Invalid input");return t}(e)}catch(n){return console.log(n.message),void Le(!0)}t.forEach((function(e){return a.push({label:"(".concat(e,")"),isDisabled:!1,coeffs:se(e,!0,!0,!1),rosePoints:[],n:-1,d:-1})})),Be.map((function(e){return e.label})).forEach((function(e){a=a.filter((function(t){return t.label!==e}))})),a.forEach((function(e){for(var t=!1,a=0;a<Ye.length&&!t;a++)for(var n=0;n<Ye[a].length&&!t;n++)Ye[a][n].usable&&!Ye[a][n].used&&(t=!0,e.rosePoints=Ye[a][n].points,Ye[a][n].used=!0,e.n=Ye[a][n].n,e.d=Ye[a][n].d)})),Me([].concat(Object(o.a)(Be),Object(o.a)(a)))}return Object(n.useEffect)((function(){var e=[];1===Z?R(M):(M.forEach((function(t){for(var a=[],n=0;n<=t.length-Z;n++){for(var r={x:0,y:0},c=0;c<Z;c++)r.x+=t[n+c].x,r.y+=t[n+c].y;a.push(r)}a.forEach((function(e){e.x=e.x/Z,e.y=e.y/Z})),e.push(a)})),console.log(e),R(e))}),[Z,M]),Object(n.useEffect)((function(){var e=document.getElementById("file").files[0];if(ct=e?e.name:"",e){var t=new FileReader;t.readAsArrayBuffer(e),t.onload=function(e){var t=function(e){var t=new ce.Midi(e),a=t.header.tempos.map((function(e){return Math.round(e.bpm)})),n=Math.max.apply(Math,Object(o.a)(a)),r=t.tracks.filter((function(e){return!1===e.instrument.percussion}));return t.tracks=r,{midiData:t,midiBpm:n}}(e.target.result),a=t.midiData,n=t.midiBpm;ft=n;var r=(rt=a).duration/50;me(r),D(function(e){for(var t=e[0].length,a=e[0].length,n=2,r=1;r<t;r++){for(var c=[],s=0;s+n<=a;s++){var i=e[0].slice(s,s+n);c.push(ie(i))}n++,e.push(c)}for(var o=[],l=0;l<6;l++){for(var u=[],h=0;h<e.length;h++){for(var f=[],b=0;b<e[h].length;b++)f.push("");u.push(f)}o.push(u)}for(var j=0;j<e.length;j++)for(var d=0;d<e[j].length;d++)for(var x=1;x<e[j][d].length;x++)o[x-1][j][d]=T(e[j][d][x]);return o}(function(e,t){var a=[];e.tracks.forEach((function(n){return a.push(ue(n.notes,t,e.duration))}));for(var n=[],r=0;r<a[0].length;r++)n.push(new oe);for(var c=0;c<a.length;c++)for(var s=0;s<a[c].length;s++)for(var i=0;i<a[c][s].length;i++){var o=a[c][s][i],l=o.pitch,u=o.duration;n[s].addNoteDuration(l,u)}var h=n.map((function(e){return se(e.getPcvAsArray())})),f=[];return f.push(h),f}(rt,r)));var c=le(a,de,ft),s=c.tracesData,i=c.resolution;Pe(i),E(s),$(rt,i,V),U(1),fe("1"),console.log(a)}}}),[b]),Object(n.useEffect)((function(){for(var e=[],t=1;t<=7;t++){for(var a=[],n=1;n<=7;n++){var r={n:n,d:t,used:!1,usable:!0,points:[]};n%t===0&&1!==t&&(r.usable=!1),!0===r.usable&&(r.points=he(n,t)),a.push(r)}e.push(a)}e[0][0].usable=!1,Ke(e);var c=[[1,0,0,0,1,0,0,1,0,0,0,0],[1,0,0,1,0,0,0,1,0,0,0,0],[1,0,0,1,0,0,1,0,0,0,0,0]].map((function(e){return{label:"(".concat(e.toString(),")"),isDisabled:!1,coeffs:se(e,!0,!0,!1),rosePoints:[],n:-1,d:-1}}));c.forEach((function(t){for(var a=!1,n=0;n<e.length&&!a;n++)for(var r=0;r<e[n].length&&!a;r++)e[n][r].usable&&!e[n][r].used&&(a=!0,t.rosePoints=e[n][r].points,e[n][r].used=!0,t.n=e[n][r].n,t.d=e[n][r].d)})),c[1].isDisabled=!0,c[2].isDisabled=!0,Me(c)}),[]),Object(v.jsxs)(g.a,{children:[Object(v.jsx)(P.a,{}),Object(v.jsx)(w,{open:c,setOpen:s,setInAnalysisPage:Je,inAnalysisPage:Qe}),Object(v.jsxs)(f.a,{sx:{display:"flex"},children:[Object(v.jsxs)(ot.a,{sx:{width:400,flexShrink:0,"& .MuiDrawer-paper":{width:400,boxSizing:"border-box"}},variant:"persistent",anchor:"left",open:c,children:[Object(v.jsxs)(jt,{children:[Object(v.jsxs)(Q.a,{sx:{flexGrow:"2",maxWidth:"85%",marginBottom:1},children:[Object(v.jsx)(j.a,{sx:{fontWeight:"bold"},children:"Upload a midi file"}),Object(v.jsxs)(Q.a,{spacing:2,direction:"row",sx:{alignItems:"center"},children:[Object(v.jsxs)("label",{htmlFor:"file",children:[Object(v.jsx)("input",{style:{display:"none"},type:"file",id:"file",name:"file",value:b,onChange:function(e){return x(e.target.value)}}),Object(v.jsx)(d.a,{variant:"contained",size:"small",color:"primary",component:"span",children:"Upload"})]}),Object(v.jsx)(j.a,{noWrap:!0,color:ct?"primary":"error",children:b?ct:"No midi file uploaded"})]})]}),Object(v.jsx)(m.a,{onClick:function(){s(!1)},children:"ltr"===t.direction?Object(v.jsx)(ut.a,{}):Object(v.jsx)(O.a,{})})]}),Object(v.jsx)(ht.a,{}),Object(v.jsx)(j.a,{sx:{marginLeft:1,marginTop:1,fontWeight:"bold"},children:"Time resolution"}),Object(v.jsx)(f.a,{sx:{display:"flex",alignItems:"center",margin:"2% 5% 0 2%",width:"90%",justifyContent:"space-evenly"},children:Object(v.jsx)(ve,{setResolutionMode:ge,resolutionMode:de,retriggerAnalysis:function(){if(null!=rt){var e=le(rt,de,ft),t=e.tracesData,a=e.resolution;Pe(a),E(t),U(1),fe("1"),$(rt,a,V)}}})}),Object(v.jsx)(ht.a,{}),Object(v.jsx)(j.a,{sx:{marginLeft:1,marginTop:1,fontWeight:"bold"},children:"Window Length"}),Object(v.jsxs)(Q.a,{sx:{margin:"auto",marginBottom:1,marginTop:1},direction:"row",children:[Object(v.jsx)(j.a,{sx:{marginLeft:1,paddingTop:"5px",marginRight:"5px",fontSize:"18px"},variant:"h5",gutterBottom:!0,children:"\xd7 "}),Object(v.jsx)(xe.a,{inputProps:{style:{textAlign:"center"}},sx:{width:"15%"},error:ee,onChange:function(e){fe(e.target.value);var t=parseInt(e.target.value);isNaN(t)?te(!0):(te(!1),M.length>0?t<1?(te(!0),U(1)):t>M[0].length?(te(!0),U(M[0].length)):U(t):U(t))},value:re,variant:"standard"}),Object(v.jsx)(j.a,{sx:{marginLeft:1,paddingTop:"5px",fontSize:"18px"},variant:"h5",gutterBottom:!0,children:"time resolution"})]}),Object(v.jsx)(q.a,{sx:{margin:"auto",width:"80%",marginBottom:3},value:Z,onChange:function(e,t){U(t),fe(t)},"aria-label":"Window Length",defaultValue:1,valueLabelDisplay:"auto",min:1,max:M.length>0?M[0].length:100,marks:M.length>0?[{value:1,label:"1"},{value:M[0].length,label:"".concat(M[0].length)}]:[{value:1,label:"1"},{value:100,label:"100"}]}),Object(v.jsx)(ht.a,{}),Object(v.jsx)(j.a,{sx:{marginLeft:1,marginTop:1,fontWeight:"bold"},children:"Custom pitch-class vectors"}),Object(v.jsxs)(f.a,{sx:{flexDirection:"column",display:"flex",alignItems:"center",margin:"3% 5%",height:"40%",maxHeight:"350px",justifyContent:"flex-start"},component:"form",noValidate:!0,autoComplete:"off",children:[Object(v.jsx)(xe.a,(e={fullWidth:!0,label:'margin="dense"',error:Ge,helperText:Ge&&"Invalid input",id:"outlined-basic"},Object(i.a)(e,"label","e.g. {0,0,4,7,10} (2,0,0,0,1,0,0,1,0,0,1,0)"),Object(i.a)(e,"variant","outlined"),Object(i.a)(e,"onKeyPress",(function(e){"Enter"===e.key&&(e.preventDefault(),Ze(Ee.current.value),Ee.current.value="")})),Object(i.a)(e,"onChange",(function(){Le(!1)})),Object(i.a)(e,"inputRef",Ee),e)),Object(v.jsx)(De,{userPcvs:Be,setUserPcvs:Me,rosesMat:Ye})]}),Object(v.jsx)(ht.a,{}),Object(v.jsx)(j.a,{sx:{marginLeft:1,marginTop:1,fontWeight:"bold"},children:"Legend of coefficients"}),Object(v.jsx)(f.a,{sx:{margin:"5px 10px"},children:Object(v.jsx)(we.a,{children:Object(v.jsxs)(Q.a,{children:[Object(v.jsxs)(Q.a,{direction:"row",children:[Object(v.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",children:[Object(v.jsx)("circle",{cx:"12",cy:"12",r:"8",fill:"black"}),Object(v.jsx)("text",{fontSize:"15",textAnchor:"middle",x:"12",y:"17",fill:"white",children:"k"})]}),"Fourier coefficient number"]}),Object(v.jsxs)(Q.a,{direction:"row",children:[Object(v.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",children:Object(v.jsx)("circle",{cx:"12",cy:"12",r:"6",fill:"black"})}),"MIDI file segments"]}),Object(v.jsxs)(Q.a,{direction:"row",children:[Object(v.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",children:[Object(v.jsx)("circle",{cx:"12",cy:"12",r:"5",fill:"white"}),Object(v.jsx)("circle",{cx:"12",cy:"12",r:"5",fill:"none",stroke:"black",strokeWidth:"3px"})]}),"MIDI playback"]}),Object(v.jsxs)(Q.a,{direction:"row",children:[Object(v.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",children:Object(v.jsxs)("g",{transform:"translate(12,12)",children:[Object(v.jsx)("line",{x1:"0",x2:"0",y1:"7",y2:"-7",stroke:"black",strokeWidth:"1.5"}),Object(v.jsx)("line",{x1:"7",x2:"-7",y1:"0",y2:"0",stroke:"black",strokeWidth:"1.5"})]})}),"MIDI controller input"]}),Object(v.jsxs)(Q.a,{direction:"row",children:[Object(v.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",children:Object(v.jsx)("circle",{cx:"12",cy:"12",r:"7",fill:"none",stroke:"grey",strokeWidth:"2px"})}),"Prototypes"]}),Object(v.jsxs)(Q.a,{direction:"row",children:[Object(v.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",children:Ye.length>0?Object(v.jsx)("polyline",{transform:"translate(".concat(12,",",12,")"),fill:"none",stroke:"black",strokeWidth:"1px",points:Ye[3][0].points}):null}),"Custom pitch-class vectors"]})]})})}),Object(v.jsx)(d.a,{variant:"contained",size:"small",color:"primary",sx:{width:"35%",margin:"auto",marginTop:1,marginBottom:1},onClick:function(){var e=new F.a,t="<svg xmlns='http://www.w3.org/2000/svg' width='".concat(20,"' height='",20,"'>\n                          <circle cx='12' cy='12' r='12' fill='black' />\n                        </svg>");[1,2,3,4,5,6].forEach((function(a){var n=function(e){var t=Object(v.jsx)(L,{traceData:M,printablePitchClasses:[],userPcv:[],coeffNumber:e});return k.a.renderToStaticMarkup(t)}(a);e.file("wavescapes/wavescape".concat(a,".svg"),t),e.file("fourier/space".concat(a,".svg"),n)})),e.generateAsync({type:"blob"}).then((function(e){Object(z.saveAs)(e,"images.zip")}))},children:"Export images"})]}),Object(v.jsx)(bt,{open:c,children:Object(v.jsxs)(C.c,{children:[Object(v.jsx)(C.a,{exact:!0,path:"/",render:function(){return Object(v.jsx)(Te,{setOpen:s,setInAnalysisPage:Je})}}),Object(v.jsx)(C.a,{exact:!0,path:"/theory",render:function(){return Object(v.jsx)(Re,{setOpen:s,setInAnalysisPage:Je})}}),Object(v.jsx)(C.a,{exact:!0,path:"/analysis",render:function(){return Object(v.jsx)(st,{fileName:ct,setInAnalysisPage:Je,open:c,setOpen:s,wavescapesData:y,fullTraces:M,coeffTracesData:G,currentSubdiv:G.length>0&&H>=G[0].length?G[0].length-1:H,currentWavescapeSubdiv:Math.floor(H*ke/Oe),userPcvs:Be})}})]})})]})]})},xt=a(180),gt=a(434),pt=Object(xt.a)({palette:{primary:{main:"#323232"},secondary:{main:"#fefefe"},background:{default:"#e0e0e0"}}});s.a.render(Object(v.jsx)(r.a.StrictMode,{children:Object(v.jsx)(gt.a,{theme:pt,children:Object(v.jsx)(dt,{})})}),document.getElementById("root"))}},[[360,1,2]]]);
//# sourceMappingURL=main.756e596c.chunk.js.map