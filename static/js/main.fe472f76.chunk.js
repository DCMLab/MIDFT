(this.webpackJsonpmidft=this.webpackJsonpmidft||[]).push([[0],{326:function(e,t){},336:function(e,t,a){"use strict";a.r(t);var i=a(0),n=a.n(i),s=a(61),r=a.n(s),o=a(402),u=a(401),c=a(403),l=a(404),m=a(406),d=a(405),f=a(78),p=a(1);function b(e){var t=e.open;return Object(p.jsx)(u.a,{sx:{display:"flex"},children:Object(p.jsx)(o.a,{position:"fixed",open:t,children:Object(p.jsxs)(c.a,{children:[Object(p.jsx)(l.a,{variant:"h3",component:"div",sx:{flexGrow:1},children:"Mi_DFT"}),Object(p.jsxs)(d.a,{variant:"outlined","aria-label":"outlined button group",children:[Object(p.jsx)(m.a,{component:f.b,to:"/",variant:"contained",color:"primary",children:"Home"}),Object(p.jsx)(m.a,{component:f.b,to:"/theory",variant:"contained",color:"primary",children:"Theory"}),Object(p.jsx)(m.a,{component:f.b,to:"/analysis",variant:"contained",color:"primary",children:"Analysis"})]})]})})})}var h=a(25),j=a(390);function x(){return Object(p.jsxs)("div",{children:[Object(p.jsx)("h1",{children:"Home - Theory and analysis"}),Object(p.jsx)("p",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Beatae, architecto temporibus laboriosam, atque veniam quod provident minus eos aspernatur ipsa ad nihil veritatis ea, eaque amet! Itaque cupiditate laudantium neque voluptas necessitatibus quidem perspiciatis molestias dolores possimus. Veritatis perferendis, quidem molestiae ipsa reprehenderit aperiam harum iste obcaecati doloribus, recusandae adipisci et saepe non qui illum ratione nemo amet voluptates dolore exercitationem provident. Ea sed incidunt cum eum excepturi vitae consequuntur eius quam earum? Repudiandae explicabo incidunt molestiae animi. Quibusdam veniam rerum minima error, quos voluptas incidunt. Est ex nesciunt ea id, dolor harum nemo quo quibusdam molestias dicta quae modi inventore. Sit dicta iure voluptatum modi. Recusandae harum blanditiis in dolore quasi officiis minus quos veritatis eveniet corporis eaque odio esse deserunt dolorum quod qui tempore, asperiores repellat numquam dolorem nobis! Provident soluta officiis temporibus optio, sapiente aspernatur accusantium ipsam velit necessitatibus natus placeat obcaecati consectetur quia. Reiciendis ipsum tempora non, dicta quod nesciunt. Magni, harum laudantium inventore omnis fugiat quia explicabo temporibus itaque officiis minus autem cumque! Necessitatibus dolorum aliquid omnis, sed ullam voluptatem reiciendis voluptate. Ad minima voluptatem praesentium totam eum consequuntur reiciendis quae soluta ipsam cupiditate? Officia labore modi illum libero error ad fugit sit nostrum, totam esse magnam doloremque repellendus. Similique, iure sed voluptatem quia molestiae aut incidunt facilis sequi! Veniam cupiditate optio magnam officiis cumque beatae laudantium, quas natus at aliquid nostrum, voluptatem aliquam quia doloremque, fugit fuga facere esse. Nostrum numquam nam, praesentium iusto accusamus quasi delectus rem vero laborum, optio blanditiis commodi id quidem beatae in. Laudantium fugit aspernatur impedit quam maiores officiis! Odit, est quae obcaecati repudiandae modi aliquid corporis natus dolores harum porro perferendis magni nam. Aperiam provident accusamus soluta optio eaque incidunt, quos modi nulla eligendi quo unde ipsa. Maxime distinctio minus beatae consequuntur assumenda ab vitae pariatur. Commodi maiores eius esse totam accusantium molestiae accusamus quas fugiat placeat quaerat voluptate corrupti architecto sapiente reiciendis obcaecati molestias, at tempore quisquam! Quam ratione aliquid quo illo delectus eaque quae reiciendis dicta corporis obcaecati, nesciunt veritatis molestiae impedit ut mollitia nam quisquam in aut quia nemo. Ducimus nulla assumenda numquam debitis recusandae dicta quam amet dolores, reprehenderit reiciendis ipsum sapiente sit alias obcaecati praesentium consequatur ipsa natus iste distinctio officia vel fugiat dolore delectus. Molestiae vero omnis blanditiis perspiciatis quibusdam, ipsam quo fugiat sunt pariatur minima aperiam ratione, unde distinctio porro incidunt praesentium repellendus aliquam autem dolores natus. Ab corporis earum veniam corrupti neque aperiam! Perferendis, eligendi, praesentium totam quia excepturi exercitationem dolores debitis cumque optio consectetur et suscipit cupiditate fuga nam commodi minima molestiae odit consequatur id enim aut quisquam eum. Modi dolores fuga neque praesentium repellendus, aspernatur ea quod? Corporis quaerat, nobis culpa quod nesciunt eum distinctio itaque cumque molestias impedit, deleniti delectus. Eum repellat architecto velit delectus eius praesentium, temporibus a nobis ad unde quaerat minus illum eos culpa earum possimus? Doloribus nostrum, impedit aut, officia amet at fuga velit minima tempora, harum molestiae non nisi quia maxime? Odio quo reiciendis nostrum repudiandae, alias delectus aut ullam quisquam. Eius?"})]})}function v(){return Object(p.jsxs)("div",{children:[Object(p.jsx)("h1",{children:"Theory page"}),Object(p.jsx)("p",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Beatae, architecto temporibus laboriosam, atque veniam quod provident minus eos aspernatur ipsa ad nihil veritatis ea, eaque amet! Itaque cupiditate laudantium neque voluptas necessitatibus quidem perspiciatis molestias dolores possimus. Veritatis perferendis, quidem molestiae ipsa reprehenderit aperiam harum iste obcaecati doloribus, recusandae adipisci et saepe non qui illum ratione nemo amet voluptates dolore exercitationem provident. Ea sed incidunt cum eum excepturi vitae consequuntur eius quam earum? Repudiandae explicabo incidunt molestiae animi. Quibusdam veniam rerum minima error, quos voluptas incidunt. Est ex nesciunt ea id, dolor harum nemo quo quibusdam molestias dicta quae modi inventore. Sit dicta iure voluptatum modi. Recusandae harum blanditiis in dolore quasi officiis minus quos veritatis eveniet corporis eaque odio esse deserunt dolorum quod qui tempore, asperiores repellat numquam dolorem nobis! Provident soluta officiis temporibus optio, sapiente aspernatur accusantium ipsam velit necessitatibus natus placeat obcaecati consectetur quia. Reiciendis ipsum tempora non, dicta quod nesciunt. Magni, harum laudantium inventore omnis fugiat quia explicabo temporibus itaque officiis minus autem cumque! Necessitatibus dolorum aliquid omnis, sed ullam voluptatem reiciendis voluptate. Ad minima voluptatem praesentium totam eum consequuntur reiciendis quae soluta ipsam cupiditate? Officia labore modi illum libero error ad fugit sit nostrum, totam esse magnam doloremque repellendus. Similique, iure sed voluptatem quia molestiae aut incidunt facilis sequi! Veniam cupiditate optio magnam officiis cumque beatae laudantium, quas natus at aliquid nostrum, voluptatem aliquam quia doloremque, fugit fuga facere esse. Nostrum numquam nam, praesentium iusto accusamus quasi delectus rem vero laborum, optio blanditiis commodi id quidem beatae in. Laudantium fugit aspernatur impedit quam maiores officiis! Odit, est quae obcaecati repudiandae modi aliquid corporis natus dolores harum porro perferendis magni nam. Aperiam provident accusamus soluta optio eaque incidunt, quos modi nulla eligendi quo unde ipsa. Maxime distinctio minus beatae consequuntur assumenda ab vitae pariatur. Commodi maiores eius esse totam accusantium molestiae accusamus quas fugiat placeat quaerat voluptate corrupti architecto sapiente reiciendis obcaecati molestias, at tempore quisquam! Quam ratione aliquid quo illo delectus eaque quae reiciendis dicta corporis obcaecati, nesciunt veritatis molestiae impedit ut mollitia nam quisquam in aut quia nemo. Ducimus nulla assumenda numquam debitis recusandae dicta quam amet dolores, reprehenderit reiciendis ipsum sapiente sit alias obcaecati praesentium consequatur ipsa natus iste distinctio officia vel fugiat dolore delectus. Molestiae vero omnis blanditiis perspiciatis quibusdam, ipsam quo fugiat sunt pariatur minima aperiam ratione, unde distinctio porro incidunt praesentium repellendus aliquam autem dolores natus. Ab corporis earum veniam corrupti neque aperiam! Perferendis, eligendi, praesentium totam quia excepturi exercitationem dolores debitis cumque optio consectetur et suscipit cupiditate fuga nam commodi minima molestiae odit consequatur id enim aut quisquam eum. Modi dolores fuga neque praesentium repellendus, aspernatur ea quod? Corporis quaerat, nobis culpa quod nesciunt eum distinctio itaque cumque molestias impedit, deleniti delectus. Eum repellat architecto velit delectus eius praesentium, temporibus a nobis ad unde quaerat minus illum eos culpa earum possimus? Doloribus nostrum, impedit aut, officia amet at fuga velit minima tempora, harum molestiae non nisi quia maxime? Odio quo reiciendis nostrum repudiandae, alias delectus aut ullam quisquam. Eius?"})]})}var g=a(16),O=a(12),q=a(8),y=a(33),C=function(e){var t=e.wavescapeMatrix,a=Object(i.useRef)(null),n=400,s=400;return Object(i.useEffect)((function(){var e=a.current,i=e.getContext("2d");e.width=n*devicePixelRatio,e.height=s*devicePixelRatio,i.scale(devicePixelRatio,devicePixelRatio),e.style.width="400px",e.style.height="400px";var r,o=[0,0],u=[e.width-o[0],e.height-o[1]];t&&(r=t[0].length,i.clearRect(0,0,i.canvas.width,i.canvas.height),i.setTransform(1,0,0,-1,0,i.canvas.height),function(e,t,a){for(var i=0;i<e.length-1;i++)for(var n=0;n<e[i].length-1;n++)0===i?(t.beginPath(),t.moveTo(e[i][n].x,e[i][n].y),t.lineTo(e[i][n+1].x,e[i][n+1].y),t.lineTo(e[i+1][n].x,e[i+1][n].y),t.fillStyle=a[i][n],t.fill()):(t.beginPath(),t.moveTo(e[i][n].x,e[i][n].y),t.lineTo(e[i-1][n+1].x,e[i-1][n+1].y),t.lineTo(e[i][n+1].x,e[i][n+1].y),t.lineTo(e[i+1][n].x,e[i+1][n].y),t.fillStyle=a[i][n],t.fill())}(function(e,t,a,i,n){for(var s=e/a,r=[],o=0;o<a+1;o++){for(var u=[],c=0;c<a+1;c++)o<=c&&u.push({x:(c-o)*s+o*s/2+i,y:o*s+n});r.push(u)}return r}(u[0],0,r,o[0],o[1]),i,t))}),[t,n,s]),Object(p.jsx)("canvas",{width:n,height:s,ref:a})};var D=a(414);var A=function(e){var t=e.wavescapesData,a=Object(i.useState)(!1),n=Object(O.a)(a,2),s=n[0],r=n[1];return Object(i.useEffect)((function(){t.length>0&&r(!0)}),[t]),Object(p.jsx)(u.a,{children:Object(p.jsx)(D.a,{in:s,children:t.map((function(e,t){return Object(p.jsx)(C,{wavescapeMatrix:e},"w.".concat(t))}))})})},w=a(395),S=a(387),F=a(415),E=a(386),k=a(407),P=a(392);var M=function(e){var t=e.resolutionMode,a=e.setResolutionMode,n=Object(i.useState)(!1),s=Object(O.a)(n,2),r=s[0],o=s[1],c=Object(i.useRef)(null);return Object(p.jsx)(u.a,{children:Object(p.jsxs)(F.a,{component:"fieldset",children:[Object(p.jsx)(E.a,{component:"legend",children:"Resolution"}),Object(p.jsxs)(S.a,{row:!0,defaultValue:"quarter",onChange:function(e){var i=Object(q.a)({},t);switch(i.seconds=parseFloat(c.current.value),e.target.value){case"sixteenth":i.noteResolutionValue=.25,i.useSeconds=!1;break;case"eighth":i.noteResolutionValue=.5,i.useSeconds=!1;break;case"quarter":i.noteResolutionValue=1,i.useSeconds=!1;break;case"half":i.noteResolutionValue=2,i.useSeconds=!1;break;case"whole":i.noteResolutionValue=4,i.useSeconds=!1;break;case"seconds":i.useSeconds=!0}a(i)},"aria-label":"resolution",name:"row-radio-buttons-group",children:[Object(p.jsx)(k.a,{sx:{fontSize:"20px"},value:"sixteenth",control:Object(p.jsx)(w.a,{size:"small"}),label:Object(p.jsx)(l.a,{sx:{fontSize:"2rem"},children:"\ud834\udd61"})}),Object(p.jsx)(k.a,{value:"eighth",control:Object(p.jsx)(w.a,{size:"small"}),label:Object(p.jsx)(l.a,{sx:{fontSize:"2rem"},children:"\ud834\udd60"})}),Object(p.jsx)(k.a,{value:"quarter",control:Object(p.jsx)(w.a,{size:"small"}),label:Object(p.jsx)(l.a,{sx:{fontSize:"2rem"},children:"\u2669"})}),Object(p.jsx)(k.a,{value:"half",control:Object(p.jsx)(w.a,{size:"small"}),label:Object(p.jsx)(l.a,{sx:{fontSize:"2rem"},children:"\ud834\udd5e"})}),Object(p.jsx)(k.a,{value:"whole",control:Object(p.jsx)(w.a,{size:"small"}),label:Object(p.jsx)(l.a,{sx:{fontSize:"2rem"},children:"\ud834\udd5d"})}),Object(p.jsx)(k.a,{value:"seconds",control:Object(p.jsx)(w.a,{size:"small"}),label:Object(p.jsx)(P.a,{error:r,helperText:r&&"Invalid input",label:"in seconds",id:"standard-size-small",defaultValue:"1.5",size:"small",variant:"standard",onChange:function(){var e=Object(q.a)({},t);e.seconds=parseFloat(c.current.value),isNaN(e.seconds)?o(!0):(a(e),o(!1))},inputRef:c})})]})]})})},R=a(54),I=a(391),z=R.c().domain([0,1]).range(R.b(0,255,1)),T=function(e,t,a){var i,n,s,r=Math.atan2(t,e);return(r=-r)<0&&(r+=2*Math.PI),r>=0&&r<I.f/3?(i=1,n=3*r/I.f,s=0):r>=I.f/3&&r<2*I.f/3?(i=2-3*r/I.f,n=1,s=0):r>=2*I.f/3&&r<I.f?(i=0,n=1,s=3*r/I.f-2):r>=I.f&&r<4*I.f/3?(i=0,n=4-3*r/I.f,s=1):r>=4*I.f/3&&r<5*I.f/3?(i=3*r/I.f-4,n=0,s=1):r>=5*I.f/3&&r<2*I.f&&(i=1,n=0,s=6-3*r/I.f),{r:i=z(i),g:n=z(n),b:s=z(s),a:z(a)}};function G(e){var t=e.toPolar(),a=t.phi,i=t.r;a<0&&(a+=2*I.f);var n=function(e){var t,a,i;return e>=0&&e<I.f/3?(t=1,a=3*e/I.f,i=0):e>=I.f/3&&e<2*I.f/3?(t=2-3*e/I.f,a=1,i=0):e>=2*I.f/3&&e<I.f?(t=0,a=1,i=3*e/I.f-2):e>=I.f&&e<4*I.f/3?(t=0,a=4-3*e/I.f,i=1):e>=4*I.f/3&&e<5*I.f/3?(t=3*e/I.f-4,a=0,i=1):e>=5*I.f/3&&e<2*I.f&&(t=1,a=0,i=6-3*e/I.f),t=z(t),a=z(a),i=z(i),"rgb(".concat(t,", ").concat(a,", ").concat(i,")")}(a).slice(3,-1);return"rgba".concat(n,", ").concat(i,")")}var B=function(e){var t=e.protoDataCoeff,a=e.traceDataCoeff,n=e.userPcvsCoeff,s=e.currentSubdiv,r=e.performanceCoeff,o=Object(i.useRef)(null),u=440,c=u,l=180,m=.01;Object(i.useEffect)((function(){var e=o.current,t=e.getContext("2d"),a=Math.floor(l*devicePixelRatio),i=t.createImageData(2*a,2*a),n=i.data;e.width=u*devicePixelRatio,e.height=c*devicePixelRatio,t.scale(devicePixelRatio,devicePixelRatio),e.style.width="440px",e.style.height="440px";for(var s=-a;s<a;s++)for(var r=-a;r<a;r++){var m=Math.sqrt(s*s+r*r);if(!(m>a)){var d=4*(s+a+(r+a)*(2*a)),f=T(s,r,m/a);n[d]=f.r,n[d+1]=f.g,n[d+2]=f.b,n[d+3]=f.a}}t.putImageData(i,0,0)}),[u,c,l]),Object(i.useEffect)((function(){o.current.getContext("2d").getImageData(0,0,1,1)}),[]);var d=function(e,t,a,i){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,s=R.a().innerRadius(0).outerRadius(t*u/2).startAngle(0).endAngle(2*Math.PI);return Object(p.jsx)("path",{transform:"translate(".concat(e.x*l,",").concat(-e.y*l,")"),fill:a,fillOpacity:n,d:s()},i)};return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("svg",{width:u,height:c,children:[Object(p.jsx)("foreignObject",{x:40,y:40,width:u,height:c,children:Object(p.jsx)("canvas",{style:{zIndex:"-1"},width:u,height:c,ref:o})}),Object(p.jsxs)("g",{transform:"translate(".concat(220,",").concat(220,")"),children:[Object(p.jsx)("path",{fill:"azure",d:R.a().innerRadius(179).outerRadius(181).startAngle(0).endAngle(2*Math.PI)()}),t?t.map((function(e,t){return function(e,t){var a=R.a().innerRadius(4.4).outerRadius(6.6).startAngle(0).endAngle(2*Math.PI),i="",n="",s=!1;if(e.label.includes("_")||e.label.includes("^"))for(var r=0;r<e.label.length;r++)"_"===e.label[r]&&(i=e.label.slice(0,r),n=e.label.slice(r+1,e.label.length),s=!0),"^"===e.label[r]&&(i=e.label.slice(0,r),n=e.label.slice(r+1,e.label.length));else i=e.label;var o=0,u=5;return 1===Math.sign(e.x)?o=20:-1===Math.sign(e.x)&&(o=-20),1===Math.sign(-e.y)?u=25:-1===Math.sign(-e.y)&&(u=-8),0===e.x&&0===e.y&&(o=15,u=5),Object(p.jsxs)("g",{transform:"translate(".concat(e.x*l,",").concat(-e.y*l,")"),children:[Object(p.jsx)("path",{fill:"grey",d:a()},t),Object(p.jsxs)("text",{textAnchor:"middle",dx:o,dy:u,fontSize:"20px",children:[i,s?Object(p.jsx)("tspan",{fontSize:15,baselineShift:"sub",children:n}):Object(p.jsx)("tspan",{fontSize:15,baselineShift:"super",children:n})]})]},"p.".concat(t))}(e,t)})):null,a?function(e){var t=R.a().innerRadius(0).outerRadius(e*u/2).startAngle(0).endAngle(2*Math.PI),i=R.a().innerRadius(e*u/2).outerRadius((e+.005)*u/2).startAngle(0).endAngle(2*Math.PI),n=[];n.push(1);for(var r=1;r<10;r++)n.push(.8*n[r-1]);return(s<10?a.slice(0,s+1):a.slice(s-10,s)).reverse().map((function(e,a){return Object(p.jsxs)("g",{children:[Object(p.jsx)("path",{transform:"translate(".concat(e.x*l,",").concat(-e.y*l,")"),fill:"white",fillOpacity:n[a],d:t()},a),Object(p.jsx)("path",{transform:"translate(".concat(e.x*l,",").concat(-e.y*l,")"),fill:"black",fillOpacity:n[a],d:i()},"t.".concat(a))]},"g.".concat(a))}))}(m):null,n?n.map((function(e,t){if(!e.isDisabled)return d(e,.025,e.color,t)})):null,d(r,.02,"teal")]})]})})},N=[[{label:"\u03a9",x:0,y:0},{label:"C",x:1,y:0},{label:"C\u266f",x:.866,y:-.5},{label:"D",x:.5,y:-.866},{label:"E\u266d",x:0,y:-1},{label:"E",x:-.5,y:-.866},{label:"F",x:-.866,y:-.5},{label:"F\u266f",x:-1,y:0},{label:"G",x:-.866,y:.5},{label:"A\u266d",x:-.5,y:.866},{label:"A",x:0,y:1},{label:"B\u266d",x:.5,y:.866},{label:"B",x:.866,y:.5}],[{label:"\u03a9",x:0,y:0},{label:"T_0",x:1,y:0},{label:"T_1",x:.5,y:-.866},{label:"T_2",x:-.5,y:-.866},{label:"T_3",x:-1,y:0},{label:"T_4",x:-.5,y:.866},{label:"T_5",x:.5,y:.866}],[{label:"\u03a9",x:0,y:0},{label:"C+",x:1,y:0},{label:"C\u266f+",x:0,y:-1},{label:"D+",x:-1,y:0},{label:"D\u266f+",x:0,y:1},{label:"H_0,3",x:.5,y:.5},{label:"H_0,1",x:.5,y:-.5},{label:"H_1,2",x:-.5,y:-.5},{label:"H_2,3",x:-.5,y:.5}],[{label:"\u03a9",x:0,y:0},{label:"C^o7",x:1,y:0},{label:"C\u266f^o7",x:-.5,y:-.866},{label:"D^o7",x:-.5,y:.866},{label:"O_0,2",x:.25,y:.433},{label:"O_0,1",x:.25,y:-.433},{label:"O_1,2",x:-.5,y:0}],[{label:"\u03a9",x:0,y:0},{label:"C",x:1,y:0},{label:"F",x:.866,y:-.5},{label:"B\u266d",x:.5,y:-.866},{label:"E\u266d",x:0,y:-1},{label:"A\u266d",x:-.5,y:-.866},{label:"C\u266f",x:-.866,y:-.5},{label:"F\u266f",x:-1,y:0},{label:"B",x:-.866,y:.5},{label:"E",x:-.5,y:.866},{label:"A",x:0,y:1},{label:"D",x:.5,y:.866},{label:"G",x:.866,y:.5},{label:"\u266e",x:.267,y:.462},{label:"5\u266d",x:0,y:-.533},{label:"2\u266f",x:-.267,y:.462},{label:"3\u266d",x:.462,y:-.267},{label:"4\u266f",x:-.533,y:0},{label:"\u266d",x:.462,y:.267},{label:"6\u266f",x:-.267,y:-.462},{label:"\u266f",x:0,y:.533},{label:"4\u266d",x:.267,y:-.462},{label:"3\u266f",x:-.462,y:.267},{label:"2\u266d",x:.533,y:0},{label:"5\u266f",x:-.462,y:-.267}],[{label:"\u03a9",x:0,y:0},{label:"WT_1",x:1,y:0},{label:"WT_2",x:-1,y:0}]];var _=function(e){var t=e.coeffTracesData,a=e.showPrototypes,n=e.userPcvs,s=e.currentSubdiv,r=e.midiDevNotesDftCoeffs,o=Object(i.useState)(N),u=Object(O.a)(o,2),c=u[0],l=u[1],m=Object(i.useState)([]),d=Object(O.a)(m,2),f=d[0],b=d[1];return Object(i.useEffect)((function(){l(a?N:[])}),[a]),Object(i.useEffect)((function(){for(var e=[],t=1;t<7;t++){for(var a=[],i=0;i<n.length;i++)a.push({x:n[i].coeffs[t].re,y:n[i].coeffs[t].im,color:n[i].colours[t],isDisabled:n[i].isDisabled});e.push(a)}b(e)}),[n]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(B,{protoDataCoeff:c[0],traceDataCoeff:t[0],userPcvsCoeff:f[0],currentSubdiv:s,performanceCoeff:r[1]}),Object(p.jsx)(B,{protoDataCoeff:c[1],traceDataCoeff:t[1],userPcvsCoeff:f[1],currentSubdiv:s,performanceCoeff:r[2]}),Object(p.jsx)(B,{protoDataCoeff:c[2],traceDataCoeff:t[2],userPcvsCoeff:f[2],currentSubdiv:s,performanceCoeff:r[3]}),Object(p.jsx)(B,{protoDataCoeff:c[3],traceDataCoeff:t[3],userPcvsCoeff:f[3],currentSubdiv:s,performanceCoeff:r[4]}),Object(p.jsx)(B,{protoDataCoeff:c[4],traceDataCoeff:t[4],userPcvsCoeff:f[4],currentSubdiv:s,performanceCoeff:r[5]}),Object(p.jsx)(B,{protoDataCoeff:c[5],traceDataCoeff:t[5],userPcvsCoeff:f[5],currentSubdiv:s,performanceCoeff:r[6]})]})},V=a(10),L=a(400),H=a(413),U=a(160),W=a.n(U),Q=Object(V.a)("li")((function(e){return{margin:e.theme.spacing(.5)}}));function J(e){var t=e.userPcvs,a=e.setUserPcvs;return Object(p.jsx)(H.a,{sx:{display:"flex",justifyContent:"center",flexWrap:"wrap",listStyle:"none",p:"5px",m:"5% 5%",width:"90%",maxHeight:"100%",overflow:"auto"},component:"ul",children:t.map((function(e,i){return Object(p.jsx)(Q,{children:Object(p.jsx)(L.a,{variant:e.isDisabled?"outlined":"filled",icon:Object(p.jsx)(W.a,{style:{color:e.colours[1]}}),label:e.label,onDelete:(n=e,function(){a((function(e){return e.filter((function(e){return e.label!==n.label}))}))}),onClick:function(){e.isDisabled=!e.isDisabled,a(Object(g.a)(t))}})},"".concat(i));var n}))})}var K,X,Y=a(389),Z=a(163),$=a.n(Z),ee=a(162),te=a.n(ee),ae=a(161),ie=a.n(ae),ne=a(408),se=a(396);function re(e,t,a){y.d.cancel(0),a(0),y.d.stop(),X=e.duration,console.log(X);var i=[];e.tracks.forEach((function(e){return e.notes.forEach((function(e){i.push(e)}))})),i.forEach((function(e){return e.subdiv=Math.floor(e.time/t)})),(K=new y.b((function(e,t){oe.triggerAttackRelease(t.name,t.duration,e,t.velocity),a(t.subdiv)}),[].concat(i)).start(0)).loop=!0,K.loopEnd=X}var oe=new y.c({urls:{A0:"A0.mp3",C1:"C1.mp3","D#1":"Ds1.mp3","F#1":"Fs1.mp3",A1:"A1.mp3",C2:"C2.mp3","D#2":"Ds2.mp3","F#2":"Fs2.mp3",A2:"A2.mp3",C3:"C3.mp3","D#3":"Ds3.mp3","F#3":"Fs3.mp3",A3:"A3.mp3",C4:"C4.mp3","D#4":"Ds4.mp3","F#4":"Fs4.mp3",A4:"A4.mp3",C5:"C5.mp3","D#5":"Ds5.mp3","F#5":"Fs5.mp3",A5:"A5.mp3",C6:"C6.mp3","D#6":"Ds6.mp3","F#6":"Fs6.mp3",A6:"A6.mp3",C7:"C7.mp3","D#7":"Ds7.mp3","F#7":"Fs7.mp3",A7:"A7.mp3",C8:"C8.mp3"},release:1,baseUrl:"https://tonejs.github.io/audio/salamander/"}).toDestination();function ue(e){var t=e.songLen,a=e.currentSubdiv;Object(i.useEffect)((function(){}),[t,a]);var n=Object(i.useState)(30),s=Object(O.a)(n,2),r=(s[0],s[1]);return Object(p.jsxs)(u.a,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(p.jsxs)(Y.a,{direction:"row",children:[Object(p.jsx)(ne.a,{onClick:function(){console.log("stop"),y.d.stop()},size:"large",children:Object(p.jsx)(ie.a,{fontSize:"large"})}),Object(p.jsx)(ne.a,{onClick:function(){console.log("pause"),y.d.pause()},size:"large",children:Object(p.jsx)(te.a,{fontSize:"large"})}),Object(p.jsx)(ne.a,{onClick:function(){console.log("play"),"running"!==y.e.state&&(console.log("state running"),y.e.resume()),y.d.start()},size:"large",children:Object(p.jsx)($.a,{fontSize:"large"})})]}),Object(p.jsx)(se.a,{"aria-label":"Playback",size:"small",value:K?100*K.progress:0,onChange:function(e,t){r(t),y.d.seconds=t/100*X},sx:{margin:"0 5%",width:"90%"}})]})}oe.volume.value=-20;var ce=a(2),le=a(3),me=a(109);function de(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],n=e.length,s=[],r=0;r<n/2+1;r++){for(var o=0,u=0;u<n;u++)o=I.a(I.e(e[u],I.c(I.e(I.d,-2*I.f*r*u/n))),o);s.push(o)}if(s=s.slice(),t){var c=s[0];0!=c&&(s=s.map((function(e){return I.b(e,c)})))}return a&&s.forEach((function(e){e.re=Math.round(1e4*e.re)/1e4,e.im=Math.round(1e4*e.im)/1e4})),i&&(s=s.map((function(e){return e.toPolar()}))),s}function fe(e){for(var t=e[0],a=1;a<e.length;a++){for(var i=[],n=0;n<e[a].length;n++)i.push(I.a(t[n],e[a][n]));t=i.slice()}var s=t[0];return t=t.map((function(e){return I.b(e,s)}))}var pe=function(){function e(){Object(ce.a)(this,e),this.C=0,this.Cs=0,this.D=0,this.Ds=0,this.E=0,this.F=0,this.Fs=0,this.G=0,this.Gs=0,this.A=0,this.As=0,this.B=0}return Object(le.a)(e,[{key:"addNoteDuration",value:function(e,t){switch(e){case"C":this.C+=t;break;case"C#":this.Cs+=t;break;case"D":this.D+=t;break;case"D#":this.Ds+=t;break;case"E":this.E+=t;break;case"F":this.F+=t;break;case"F#":this.Fs+=t;break;case"G":this.G+=t;break;case"G#":this.Gs+=t;break;case"A":this.A+=t;break;case"A#":this.As+=t;break;case"B":this.B+=t}}},{key:"getPcvAsArray",value:function(){return[this.C,this.Cs,this.D,this.Ds,this.E,this.F,this.Fs,this.G,this.Gs,this.A,this.As,this.B]}},{key:"add",value:function(e){this.C=e.C,this.Cs=e.Cs,this.D=e.D,this.Ds=e.Ds,this.E=e.E,this.F=e.F,this.Fs=e.Fs,this.G=e.G,this.Gs=e.Gs,this.A=e.A,this.As=e.As,this.B=e.B}}]),e}();function be(e,t,a){var i,n=t.noteResolutionValue,s=t.seconds,r=t.useSeconds;i=r?isNaN(s)?1:s:n*(60/a);var o=e.duration,u=[];e.tracks.filter((function(e){return!1===e.instrument.percussion})).forEach((function(e){u.push(he(e.notes,i,o))}));for(var c=[],l=0;l<u[0].length;l++)c.push(new pe);for(var m=0;m<u.length;m++)for(var d=0;d<u[m].length;d++)for(var f=0;f<u[m][d].length;f++){var p=u[m][d][f],b=p.pitch,h=p.duration;c[d].addNoteDuration(b,h)}var j=c.map((function(e){return de(e.getPcvAsArray())})),x=[];x.push(j);for(var v=[],g=x[0],O=1;O<7;O++){for(var q=[],y=0;y<g.length;y++)q.push({x:g[y][O].re,y:g[y][O].im});v.push(q)}return{tracesData:v,resolution:i}}function he(e,t,a){for(var i=[],n=t,s=function(t){var a=[];e.forEach((function(e){var i=e.time,s=e.duration;if(function(e,t,a,i){if(e>a&&e<a+i||e+t>a&&e+t<a+i||e<=a&&e+t>=a+i)return!0;return!1}(i,s,t,n)){var r={pitch:e.pitch};r.duration=i<t?i+s<t+n?i+s-t:n:i+s<=t+n?s:t+n-i,a.push(r)}})),i.push(a)},r=0;r<a;r+=t)s(r);return i}function je(e){var t=[];return e.forEach((function(e){var a=Math.sqrt(Math.pow(e.re,2)+Math.pow(e.im,2)),i=T(e.re,-e.im,a);i.r=255-i.r,i.g=255-i.g,i.b=255-i.b,t.push(function(e){var t=Object.keys(e).map((function(t){return function(e){var t=e.toString(16);return 1==t.length?"0"+t:t}(e[t])}));return"#".concat(t.join(""))}(i))})),t}var xe,ve,ge=a(348),Oe=a(410),qe=a(409),ye=a(30),Ce=a(398),De=a(164),Ae=a.n(De),we=a(133),Se=a.n(we),Fe=a(399),Ee=a(411),ke=a(412),Pe=a(134),Me=a.n(Pe),Re=400,Ie=Object(V.a)("main",{shouldForwardProp:function(e){return"open"!==e}})((function(e){var t=e.theme,a=e.open;return Object(q.a)({flexGrow:1,padding:t.spacing(1),transition:t.transitions.create("margin",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),marginLeft:"-".concat(Re,"px")},a&&{transition:t.transitions.create("margin",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.enteringScreen}),marginLeft:0})})),ze=(Object(V.a)(o.a,{shouldForwardProp:function(e){return"open"!==e}})((function(e){var t=e.theme,a=e.open;return Object(q.a)({transition:t.transitions.create(["margin","width"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen})},a&&{width:"calc(100% - ".concat(Re,"px)"),marginLeft:"".concat(Re,"px"),transition:t.transitions.create(["margin","width"],{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.enteringScreen})})})),Object(V.a)("div")((function(e){var t=e.theme;return Object(q.a)(Object(q.a)({display:"flex",alignItems:"center",padding:t.spacing(0,1)},t.mixins.toolbar),{},{justifyContent:"flex-end"})}))),Te=80;var Ge=function(){var e=Object(ye.a)(),t=Object(i.useState)(!0),a=Object(O.a)(t,2),n=a[0],s=a[1],r=Object(i.useState)([]),o=Object(O.a)(r,2),c=o[0],d=o[1],f=Object(i.useState)([]),b=Object(O.a)(f,2),h=b[0],j=b[1],x=Object(i.useState)(!0),v=Object(O.a)(x,2),C=v[0],D=v[1],w=Object(i.useState)(0),S=Object(O.a)(w,2),F=S[0],E=S[1],R=Object(i.useState)({noteResolutionValue:1,seconds:1.5,useSeconds:!1}),I=Object(O.a)(R,2),z=I[0],T=I[1],B=Object(i.useState)([]),N=Object(O.a)(B,2),V=N[0],L=N[1],H=Object(i.useRef)(null),U=Object(i.useState)(""),W=Object(O.a)(U,2),Q=W[0],K=W[1],X=Object(i.useState)(de([0,0,0,0,0,0,0,0,0,0,0,0]).map((function(e){return{x:e.re,y:e.im}}))),Y=Object(O.a)(X,2),Z=Y[0],$=Y[1],ee=Object(i.useState)(!1),te=Object(O.a)(ee,2),ae=te[0],ie=te[1];function se(e){var t,a=[];try{t=function(e){for(var t=[],a=!1,i=!1,n=0;n<e.length;n++)if("{"!==e[n]&&"("!==e[n]||(a=!0,"{"===e[n]&&(i=!0)),a){for(var s=[],r=n+1;"}"!==e[r]&&")"!==e[r];r++){if(","!==e[r]&&"."!==e[r]&&isNaN(parseFloat(e[r])))throw new Error("Found NaN");s.push(e[r])}if(""===(s=s.join("")))throw new Error("Empty input");for(var o=[],u=0,c=0;c<s.length;c++){if(","===s[c]){var l=s.slice(c-u,c);if(0===l.length)throw new Error("Two consecutive comas");o.push(+l),u=-1}u++}var m=s.slice(s.length-u,s.length);if(0===m.length)throw new Error("Missing last number");if(o.push(+m),i){for(var d=[0,0,0,0,0,0,0,0,0,0,0,0],f=0;f<o.length;f++){if(o[f]<0||o[f]>=12)throw new Error("Set notation: out of range");d[o[f]]+=1}t.push(d)}else{if(12!==o.length)throw new Error("Vectorial notation: missing elements");t.push(o)}a=!1,i=!1,n+=u}if(0===t.length)throw new Error("Invalid input");return t}(e)}catch(i){return console.log(i.message),void ie(!0)}t.forEach((function(e){return a.push({label:"(".concat(e,")"),isDisabled:!1,coeffs:de(e,!0,!0,!1)})})),a.forEach((function(e){e.colours=je(e.coeffs)})),V.map((function(e){return e.label})).forEach((function(e){a=a.filter((function(t){return t.label!==e}))})),L([].concat(Object(g.a)(V),Object(g.a)(a)))}return Object(i.useEffect)((function(){var e=document.getElementById("file").files[0];if(ve=e?e.name:"",e){var t=new FileReader;t.readAsArrayBuffer(e),t.onload=function(e){var t=function(e){var t=new me.Midi(e),a=t.header.tempos.map((function(e){return Math.round(e.bpm)})),i=Math.max.apply(Math,Object(g.a)(a)),n=t.tracks.filter((function(e){return!1===e.instrument.percussion}));return t.tracks=n,{midiData:t,midiBpm:i}}(e.target.result),a=t.midiData,i=t.midiBpm;Te=i;var n=(xe=a).duration/50;d(function(e){for(var t=e[0].length,a=e[0].length,i=2,n=1;n<t;n++){for(var s=[],r=0;r+i<=a;r++){var o=e[0].slice(r,r+i);s.push(fe(o))}i++,e.push(s)}for(var u=[],c=0;c<6;c++){for(var l=[],m=0;m<e.length;m++){for(var d=[],f=0;f<e[m].length;f++)d.push("");l.push(d)}u.push(l)}for(var p=0;p<e.length;p++)for(var b=0;b<e[p].length;b++)for(var h=1;h<e[p][b].length;h++)u[h-1][p][b]=G(e[p][b][h]);return u}(function(e,t){var a=[];e.tracks.forEach((function(i){return a.push(he(i.notes,t,e.duration))}));for(var i=[],n=0;n<a[0].length;n++)i.push(new pe);for(var s=0;s<a.length;s++)for(var r=0;r<a[s].length;r++)for(var o=0;o<a[s][r].length;o++){var u=a[s][r][o],c=u.pitch,l=u.duration;i[r].addNoteDuration(c,l)}var m=i.map((function(e){return de(e.getPcvAsArray())})),d=[];return d.push(m),d}(xe,n)));var s=be(a,z,Te),r=s.tracesData,o=s.resolution;j(r),re(xe,o,E)}}}),[Q]),Object(i.useEffect)((function(){var e=[],t=new y.c({urls:{A0:"A0.mp3",C1:"C1.mp3","D#1":"Ds1.mp3","F#1":"Fs1.mp3",A1:"A1.mp3",C2:"C2.mp3","D#2":"Ds2.mp3","F#2":"Fs2.mp3",A2:"A2.mp3",C3:"C3.mp3","D#3":"Ds3.mp3","F#3":"Fs3.mp3",A3:"A3.mp3",C4:"C4.mp3","D#4":"Ds4.mp3","F#4":"Fs4.mp3",A4:"A4.mp3",C5:"C5.mp3","D#5":"Ds5.mp3","F#5":"Fs5.mp3",A5:"A5.mp3",C6:"C6.mp3","D#6":"Ds6.mp3","F#6":"Fs6.mp3",A6:"A6.mp3",C7:"C7.mp3","D#7":"Ds7.mp3","F#7":"Fs7.mp3",A7:"A7.mp3",C8:"C8.mp3"},release:1,baseUrl:"https://tonejs.github.io/audio/salamander/"}).toDestination();function a(a){var i=a.data[0],n=y.a(a.data[1],"midi").toNote(),s=Math.round(.05*a.data[2]);switch(i){case 144:s>0?(t.triggerAttack(n,y.f(),s),e.push(n)):(t.triggerRelease(n,y.f()),e.filter((function(e){return e!==n})));break;case 128:t.triggerRelease(n,y.f()),e=e.filter((function(e){return e!==n}))}!function(e){var t=[0,0,0,0,0,0,0,0,0,0,0,0];e.forEach((function(e){switch(e.includes("#")?e.slice(0,2):e.slice(0,1)){case"C":t[0]+=1;break;case"C#":t[1]+=1;break;case"D":t[2]+=1;break;case"D#":t[3]+=1;break;case"E":t[4]+=1;break;case"F":t[5]+=1;break;case"F#":t[6]+=1;break;case"G":t[7]+=1;break;case"G#":t[8]+=1;break;case"A":t[9]+=1;break;case"A#":t[10]+=1;break;case"B":t[11]+=1}}));var a=de(t);a=a.map((function(e){return{x:e.re,y:e.im}})),$(a)}(e)}function i(e){console.log("Name: ".concat(e.port.name,", Brand: ").concat(e.port.manufacturer,", State: ").concat(e.port.state,", Type: ").concat(e.port.type))}t.volume.value=-30,navigator.requestMIDIAccess&&navigator.requestMIDIAccess().then((function(e){e.onstatechange=i,e.inputs.forEach((function(e){e.onmidimessage=a}))}),(function(){console.log("Could not connect MIDI")}))}),[]),Object(i.useEffect)((function(){var e=[[1,0,0,0,1,0,0,1,0,0,0,0],[1,0,0,1,0,0,0,1,0,0,0,0],[1,0,0,1,0,0,1,0,0,0,0,0]].map((function(e){return{label:"(".concat(e.toString(),")"),isDisabled:!1,coeffs:de(e,!0,!0,!1)}}));e.forEach((function(e){e.colours=je(e.coeffs)})),e[1].isDisabled=!0,e[2].isDisabled=!0,L(e)}),[]),Object(p.jsxs)(u.a,{sx:{display:"flex"},children:[Object(p.jsxs)(Ce.a,{sx:{width:Re,flexShrink:0,"& .MuiDrawer-paper":{width:Re,boxSizing:"border-box"}},variant:"persistent",anchor:"left",open:n,children:[Object(p.jsxs)(ze,{children:[Object(p.jsxs)(u.a,{component:"div",sx:{display:"flex",flexGrow:1,alignItems:"baseline"},children:[Object(p.jsx)(l.a,{noWrap:!0,sx:{flexGrow:2},children:Q?ve:"input file"}),Object(p.jsxs)("label",{htmlFor:"file",children:[Object(p.jsx)("input",{style:{display:"none"},type:"file",id:"file",name:"file",value:Q,onChange:function(e){return K(e.target.value)}}),Object(p.jsx)(m.a,{variant:"contained",color:"primary",component:"span",children:"Upload"})]})]}),Object(p.jsx)(ne.a,{onClick:function(){s(!1)},children:"ltr"===e.direction?Object(p.jsx)(Ae.a,{}):Object(p.jsx)(Se.a,{})})]}),Object(p.jsx)(qe.a,{}),Object(p.jsx)(ue,{songLen:0!==h.length?h[0].length:0,currentSubdiv:F}),Object(p.jsxs)(u.a,{sx:{display:"flex",alignItems:"center",margin:"2% 5%",width:"90%",justifyContent:"space-evenly",gap:"20px"},children:[Object(p.jsx)(u.a,{component:"form",noValidate:!0,autoComplete:"off",children:Object(p.jsx)(P.a,{error:ae,helperText:ae&&"Invalid input",id:"outlined-basic",label:"Pitch class vector",variant:"outlined",onKeyPress:function(e){"Enter"===e.key&&(se(H.current.value),H.current.value="")},onChange:function(){ie(!1)},inputRef:H})}),Object(p.jsx)(ge.a,{children:Object(p.jsx)(k.a,{control:Object(p.jsx)(Oe.a,{onChange:function(){D(!C)},checked:C,size:"small"}),label:"Show Prototypes"})})]}),Object(p.jsxs)(u.a,{sx:{display:"flex",alignItems:"flex-end",margin:"2% 5%",width:"90%",justifyContent:"space-evenly"},children:[Object(p.jsx)(M,{setResolutionMode:T,resolutionMode:z}),Object(p.jsx)(m.a,{variant:"contained",color:"primary",onClick:function(){if(null!=xe){var e=be(xe,z,Te),t=e.tracesData,a=e.resolution;j(t),re(xe,a,E)}},sx:{width:"10%"},children:"Change"})]}),Object(p.jsx)(J,{userPcvs:V,setUserPcvs:L})]}),Object(p.jsxs)(Ie,{open:n,children:[Object(p.jsx)(ze,{}),Object(p.jsx)(ne.a,{color:"inherit","aria-label":"open drawer",onClick:function(){s(!0)},edge:"start",sx:Object(q.a)({margin:0,padding:0},n&&{display:"none"}),children:Object(p.jsx)(Se.a,{})}),Object(p.jsxs)(Fe.a,{children:[Object(p.jsx)(Ee.a,{expandIcon:Object(p.jsx)(Me.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(p.jsx)(l.a,{variant:"h6",children:"Wavescape"})}),Object(p.jsx)(ke.a,{children:Object(p.jsx)(A,{wavescapesData:c})})]}),Object(p.jsxs)(Fe.a,{children:[Object(p.jsx)(Ee.a,{expandIcon:Object(p.jsx)(Me.a,{}),"aria-controls":"panel2a-content",id:"panel2a-header",children:Object(p.jsx)(l.a,{variant:"h6",children:"Fourier Coefficients"})}),Object(p.jsx)(ke.a,{children:Object(p.jsx)(_,{coeffTracesData:h,currentSubdiv:F,showPrototypes:C,userPcvs:V,midiDevNotesDftCoeffs:Z})})]})]})]})};var Be=function(){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(j.a,{}),Object(p.jsxs)(f.a,{basename:"/MIDFT",children:[Object(p.jsx)(b,{}),Object(p.jsxs)(h.c,{children:[Object(p.jsx)(h.a,{exact:!0,path:"/",component:x}),Object(p.jsx)(h.a,{exact:!0,path:"/theory",component:v}),Object(p.jsx)(h.a,{exact:!0,path:"/analysis",component:Ge})]})]})]})};r.a.render(Object(p.jsx)(n.a.StrictMode,{children:Object(p.jsx)(Be,{})}),document.getElementById("root"))}},[[336,1,2]]]);
//# sourceMappingURL=main.fe472f76.chunk.js.map